import{i as E,l as I,e as R,a as H,h as v,u as ce,b as Z,j as e,L as je,r as l,c as Zs,d as us,f as Gs,g as We,S as ks,k as P,m as be,n as ve,o as F,p as O,s as _e,q as oe,D as Q,t as T,R as $,O as He,v as ie,w as Ne,x as Re,y as Js,z as Ys,A as Ks,G as Ws,B as Pe,C as es,E as Es,F as Is,H as xs,I as ss,J as Xs,K as _s,M as Hs,N as et,P as st,Q as ms,T as tt,U as Se,V as nt,W as at,X as ot,Y as ct,Z as it,_ as rt,$ as fs,a0 as lt,a1 as dt,a2 as ut}from"./index--svHLFhj.js";import{L as mt}from"./LogoLoading-C_6Bo3vy.js";const ht="data:image/webp;base64,UklGRlgEAABXRUJQVlA4TEwEAAAvY8AYEJVQkCRJkSTt/z+tIjlRPZVZsccQx+ALERIAACAQxLZt27Zt27Zt27Zt27ZtbSMHwW0bSZJcwPaRHbjPJNU/mB/Kxe8jAK528P7gdZH+sPMn7YGhKmkPdofg/WHtd9oDXWHSHiz2S6yG1jDwPQv/+U9joMgAy8Il/mkMOmslTB+CaQxdX7MA4D/TFygSQLPwSGIag8ZKCTOIcBpDyQfwBbBwiNMXyDXMM6kPCNMXZKZKmBnk0xgK3sAXIF8hTV9+F/5PFj5SmekLEuMlzDzKaQxZL1mArrBbuLRtWo86Wbxp44b9cBjwNewG78ijfnF0UDwEfL3FuEVUc4s7cquSKbzzkPCYBZh0KHOIkmz0MIR+NkwAUBa+0No5vQjRYiJAm6NYxSY8vtzgu2r850Cgrzi1ju6QS3gkuGv2/GKDWTqQzkDYbQmTB3VOChNnIwCXBcd0TsCrmPSd4QN3JxsjoHXBEsntElpbsWcP8zMPAWoJPqece02ItsDnsphTCn2eEkz+PhTjXulvwMm/LPxiMU8KtogvZUEFjL0S2hnueVjINRX7TnHdPMHqCw6xz+Oi7gE8iR+UNleeHwgNJAkgmydCDr+hgJOACd7+ocdFxY8kEbH77D8/CHhNEv53TRFyUzaqhPZ8e+ElyVdWt9+uusqwjfHxgfVt0X9S2znl8YHHjyQ+onksN/rv2+/eXFo3qlmhYKbEUW49oMBJLP192xViIydzvJ9WVfIhdfcp450k0h6pVe6meCuyqN3apSMJKOlHaq778scgV8TvZzM3SVzA2K+xTSO7BWFKNJlyFCZPsylXgO9s+NMQi/cOhDRoEuk7twokcaUG9kpurz6FjIGyQI0OgV5t8Eka2tcuFScBxHqi5xEBcb8GhkVRvDmA68InLThevhU9JTG492ihNF/cGkV8pM6Gw1i9r5cFUG2vXrSsk4TCZm8l5dKDHqrloTHUd7kvAGReC9bfbSSxOJuiUQoQIIHHekSUknysC94YXJyQSxKK272u1cucwLGeBDofL3VB++XKmlsYn11BlQ1WCnbC5/qevwT4VoYnkgXySUAPZEJ6xSsAr4O9FVKV5fYBqpOqtpLIbDmHQqqWC6qhLtgsfIZxwCo0RcWqC3wHe0TYaotTQzBmoHlPwvqIVyZ+Jol/nE72oex/K+9A2DOykljsOjdHttSqxqEM3rfgQ50kDJXn5xjxeSv/MOMgCbe2c6UYys+LHAlJjB7zisPx8blStF6TgLEgngQA7jGvsP47Ph9L0K8kfmL0OQmzg2Y5+nt6foMmcBKTWheqOn9LEJIk+pM4O/tNROdhIJlf+J0EDHHnbzvo/UgVvdafBzhekNEaiFYrpqa1SH4teJne0pciBL0hVCHV/I+FAqfm0C+Ibw5k7zW7NJfCkia78+cb9rvzv68Ld9Nduhe+tUdAEoD2kAFPQNqDrNQG7YUJA8Kv81MSDQ==",gt="/messages",pt=async()=>{const{data:s}=await E.get(gt,{headers:{user:R(),lang:I}});return s},xt=async()=>new Promise(async(s,t)=>{if(H()===!0)try{const n=await pt();console.log("Mensajes:",n),s(n)}catch(n){t(v(n))}else t(v("La sesión caducó. Vuelve a iniciar sesión para continuar."))}),_t="/messages",ft=async s=>{const{data:t}=await E.delete(_t+"/"+s,{headers:{user:R(),lang:I}});return t},jt=async s=>new Promise(async(t,n)=>{if(H()===!0)try{if(s!=null&&!isNaN(s)&&s>=0){const a=await ft(s);t(a)}else n("El mensaje no existe")}catch(a){n(v(a))}else n(v("La sesión caducó. Vuelve a iniciar sesión para continuar."))}),bt="_list_1dihw_1",vt="_button_1dihw_19",Be={list:bt,button:vt},Rs=()=>{const{t:s,ready:t}=ce(),n=Z();return t?e.jsx("main",{className:"unselectable",children:e.jsxs("section",{className:Be.list,children:[e.jsx("button",{className:Be.button,onClick:()=>n("categories"),children:s("categories")}),e.jsx("button",{className:Be.button,onClick:()=>n("attributes"),children:s("attributes")}),e.jsx("button",{className:Be.button,onClick:()=>n("products"),children:s("products")}),e.jsx("button",{className:Be.button,onClick:()=>n("messages"),children:s("messages")})]})}):e.jsx(je,{})},Nt="_button_14o55_1",St="_data_14o55_9",yt="_updated_14o55_33",At="_size_14o55_49",wt="_link_14o55_61",Ce={button:Nt,data:St,updated:yt,size:At,link:wt},De={parseKB(s,t=0){return Number((s/1024).toFixed(t))},parseMB(s,t=0){return Number((s/1024/1e3).toFixed(t))},parseGB(s,t=0){return Number((s/1024/1e3/1e3).toFixed(t))},toString(s){if(s===0)return"0";if(s>1e3){const t=s/1024;if(t>1e3){const n=t/1e3;return n>1e3?`${(n/1e3).toFixed(2)} GB`:`${n.toFixed(2)} MB`}else return`${t.toFixed(1)} KB`}else return`${s.toFixed(0)} Bytes`}},Ct="/external/googlesheets/update",kt=async()=>{const{data:s}=await E.get(Ct,{headers:{user:R(),lang:I}});return s},Et=async()=>new Promise(async(s,t)=>{if(H()===!0)try{const n=await kt();s(n)}catch(n){t(v(n))}else t(v("La sesión caducó. Vuelve a iniciar sesión para continuar."))}),It="/external/json/update",Rt=async()=>{const{data:s}=await E.get(It,{headers:{user:R(),lang:I}});return s},Pt=async()=>new Promise(async(s,t)=>{if(H()===!0)try{const n=await Rt();s(n)}catch(n){t(v(n))}else t(v("La sesión caducó. Vuelve a iniciar sesión para continuar."))}),Dt=()=>{const{t:s,ready:t}=ce(),[n,a]=l.useState(!1),[o,c]=l.useState(null),[i,r]=l.useState(null),d=async u=>{a(!0),c(null),r(null),u().then(g=>{c(g),a(!1),console.log(g)}).catch(g=>{a(!1),r(s(g.toString()))})};return t&&!n?e.jsxs("main",{className:"unselectable",children:[i&&e.jsx("p",{className:"error",children:i}),o&&e.jsxs("section",{className:Ce.data,children:[e.jsx("p",{className:Ce.updated,children:s("updated")}),o.megabytes&&e.jsx("p",{className:Ce.size,children:`${s("size")}: ${De.toString(o.megabytes*1024*1e3)}`}),o.url&&e.jsx("a",{className:Ce.link,href:o.url,children:o.url})]}),e.jsxs("section",{className:"flex-center-column",children:[e.jsx("button",{className:`button_square_white ${Ce.button}`,onClick:()=>{Zs||us()?d(Et):r(s("forbidden"))},children:s("update_googlesheet")}),e.jsx("button",{className:`button_square_white ${Ce.button}`,onClick:()=>{Gs||us()?d(Pt):r(s("forbidden"))},children:s("update_json")})]})]}):e.jsx(mt,{})},Ut="_instructions_1xpp4_19",Bt="_instruction_1xpp4_19",zt="_button_1xpp4_45",ze={instructions:Ut,instruction:Bt,button:zt},Ue="data:image/webp;base64,UklGRjAFAABXRUJQVlA4TCQFAAAvY8AYEK/BKJIkKb27XK0BC/gPnCCCP3t1MzbYRpLkZF7bnwjBkamKApeqXTSM20hSVIuvzT/M3WO+boRsJKkI5093BjdP8AEQv/+7PZ51t00Xlmh7IhkWZFgmw4INCRZkWJDNggwLgAABAhSEgEuEAj0QSjgQSjjBgjig7hz7sUSsEWvEEpy9upfZd0m9pV5Sb+sN/y71knpLveQaGlDXtu1GhL0zhTAqcisZSRaTW6aRt/3fuKV4v8XPiP5PgBh2+jgTSk7jKMSLYRSnKsniELeeO3ceuy5uwzhTQva9BuDN7RlfNizHBbD+zsaWbAAsbZ231bGoHx+PvGstfGCTjCiPA8C1dZLT8nSWL7e/RUWS1gII4nwkcQAsDJLVqZW9d80PSd3xEcRj2K+BuU5O64t8c9dUJO0V1vuhHbbA0iCrRg7y/EPqDhAeBpUEWJnk8SwHeylJw0WQDCePAIfUTnLQ54q0fET5QA4b+CZZdnLotUbDwyYbRBbA1amd5QgvFekgyAaQBJiTx06OsyAtH8nbEsAmaznaX40zH8mbEsAmGznidsqZj+QtCWBRa+Wou4r6CskbMsCm1sqRdxVnPtLesgA2tVaOvqs484Osp3yNOdlKBXYVTazzfrZwyUYqsdX4hW0vO/g6a6nIllxi10MWwORRKrOmvkL22gYOtU4d8kgTm5d2WJFnqdBO4wK7F/IAJkup1Ia6H+TPRVhS69Qij/xC9NQBMHiSir2QKxyeiTDnUQ7z73q9Xv+GIWuaiJ44ADrPA5l8fHx8TAbSafRwePSNBSupHlnQxvejAAYbFV3IVZDfS+ByKlUkSzpI7m1hs1bTmQbCOzmg86ImOaWHw02CJSupqIJf2N1sYfOkqpYGtjcBdLaqklN6EEKk8DiVyio5RypEjDlLdTW0EAuxhc1GXRfq2AqxxoxndUnSXwsBkFJhR7oQGTxOVVZyjiyFy6PKajpId5izUNkvLcQxHNYqO9N819+kx8+bz0mPf+O5fgz4+v/Y36THz5vPSY9/4+l1cjORA/4HSeHyqLKaDvb/CKkASJUduUQuAhhsFTblKhAihMVGXR11hELEcFio65cmYiH2cFmpq6CDvRA5QHbKqugiF0JsYLFR1YU6NkIIEWPBH1WdaCG+OcAnO0VVXCC7ERtYbNR0oe6vxd0dFqzUVNBGfC8HdJ5V1Gn0cLgnIjgsVdTQxFY8TLEiLwqacoH0kQhhsxzI3/V6vf4NpKGBUDyZwtd5HsaQO41LpM+IEA4r1RQ0EYqnM8BgrZaWXCF9TkRwqV2UUtFBJF7MA1isVFLT8IP8FbGHb7BQx5l0sRevR/DIX1V0Gh1Eosd8gzm1Vg1dRRObvA+RBbA47ZRQ0vCDTPSbwJ+x6hRQUveQiL538GesutGV1D3Eov8Ivs6qG1lJLhGJd0bwZqzaMXU/1F1E4r0R/Bm1djxdRd1DJN4dwTfJ01jOGg0PkXj/Dvgif7pR1KTpIxZDTAIsdWrN8NqKdBAkYpjZBr5JHi/D6grScLHJxFDzCFjoZN0NqNFIx0eUiwHvA/hfpFZfhtE1U9JcIdiLYeffwMokWZ7fdyk00lgAUS4GfwgB1yY5Ldp3XE4VSXMBhJkYZRoCK8cgOS2bSx/db1GR1G0PCFMx2iwCsLQNktSORf17flwXR40kdWsBIErFqPPdBoA3twz2aTougM0uF+M/7EIA8N25Y5mPHcddAUC4OwhV5mkcrvHyOozTXCg3TeMn01QMGQ==",Mt="_slug_1u805_1",Vt="_routes_1u805_13",Ft="_route_1u805_13",Lt="_symbol_1u805_45",Tt="_separator_1u805_115",qt="_slash_1u805_125",ne={slug:Mt,routes:Vt,route:Ft,symbol:Lt,separator:Tt,slash:qt},$t=s=>s.split("/").pop().replace("-"," "),js=(s,t)=>{const n=o=>(o?.match(/\//g)||[]).length;return s.filter(o=>t?o.slug.startsWith(t)&&n(o.slug)==n(t)+1:!o.slug.includes("/")).map(o=>o.slug)},Ps=({categories:s,onSlugChange:t,showChildren:n=!0})=>{const[a,o]=l.useState(),[c,i]=l.useState();l.useEffect(()=>{if(s){const{slug:d}=We();d?r(d):o(js(s))}},[s]);const r=d=>{i(d),o(js(s,d)),t&&t(d?d.toLowerCase():"",a)};return e.jsxs(e.Fragment,{children:[e.jsx(Qt,{slug:c,onParentClick:r,onSelfClick:()=>{}}),n&&e.jsx(Ot,{slugs:a,onClick:r})]})},Qt=({slug:s,onParentClick:t=()=>{},onSelfClick:n=()=>{}})=>{const[a,o]=l.useState();return l.useEffect(()=>{if(s){const c=s.split("/"),i=c.map((d,u)=>c.slice(0,u+1).join("/")),r=c.map((d,u)=>e.jsxs("div",{className:"flex-center",children:[e.jsx("p",{className:ne.slash,children:"/"}),e.jsx("p",{className:ne.route,id:`${i[u]}-${u}/${c.length}`,onClick:c.length!==u+1?()=>t(i[u]):()=>n(i[u]),children:d.toLowerCase().replace("-"," ")})]},u));o(r)}else o()},[s]),e.jsxs("div",{className:`${ne.routes} ${ne.slug}`,children:[e.jsx("p",{className:ne.route,onClick:()=>t(),children:"index"}),a]})},Ot=({slugs:s,onClick:t})=>{const[n,a]=l.useState(),o=c=>{t(c)};return l.useEffect(()=>{if(s){const c=s.map((i,r)=>e.jsxs("div",{className:"flex-center",children:[e.jsx("p",{className:`${ne.route}`,onClick:()=>o(i),children:$t(i).toLowerCase()}),r<s.length-1&&e.jsx("p",{className:ne.separator,children:"-"})]},r));a(c)}else a()},[s]),e.jsxs("div",{className:`${ne.routes} ${ne.slug}`,children:[e.jsx("p",{className:ne.symbol,children:">"}),n]})},Zt="_reload_11d3n_1",Gt={reload:Zt},Ds="data:image/webp;base64,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",$e=({className:s=void 0,onClick:t})=>e.jsx("div",{className:`${Gt.reload} ${s&&s}`,children:e.jsx("img",{src:Ds,onClick:t})}),Jt="_title_178qo_1",Yt="_empty_178qo_43",Kt="_contract_178qo_61",Wt="_contracted_178qo_101",Me={title:Jt,empty:Yt,contract:Kt,contracted:Wt},Xt="data:image/webp;base64,UklGRsYAAABXRUJQVlA4TLkAAAAvMUAMEF8QEQYiyYz+0kEEfbQQGep8s3BTa9ubfAmwVwFVACMWyIQPJmKBDhIigb3L4/vf56POEf1nJEmSiF5kuBePsP91ZjXcuOF3nuCWc7/FqQ7rXaZ+zUsBK6u6CVgBqyAlpEYLaAklomRSA6RG8IbwhhglchbX3bFmFuMR1Kx8FPbCS9CqexFQMLI6DKapoGAkFMyTmJ6QCkpSQkkqqGEFRq+g6BGVJKEaJmT0xAuf+Cs/hb91DAA=",Ht="_product_14o90_11",en="_disabled_14o90_37",sn="_productdata_14o90_67",tn="_object_14o90_81",nn="_key_14o90_93",an="_value_14o90_107",ke={product:Ht,disabled:en,productdata:sn,object:tn,key:nn,value:an},on=({attribute:s,onAttributeSelected:t,t:n})=>{const[a,o]=l.useState(0),c=l.useRef();return l.useLayoutEffect(()=>{o(c.current.clientHeight)},[]),e.jsxs("article",{ref:c,id:s.id,className:ke.product,children:[s.disabled===!0&&e.jsx("div",{className:ke.disabled,onClick:()=>t(s),style:{height:a},children:e.jsx("p",{children:n("disabled")})}),e.jsx("div",{className:ke.productdata,onClick:()=>t(s),children:e.jsxs("div",{className:ke.object,children:[e.jsx("p",{className:ke.key,children:`${n("name")}:`}),e.jsx("p",{className:ke.value,children:s.name})]})})]})},cn=({attributes:s,slug:t,title:n,onAttributeSelected:a,defaultContracted:o=!1,hide:c=!1,t:i})=>{const[r,d]=l.useState(o),[u,g]=l.useState([]);return l.useEffect(()=>{if(s){const m=s.filterSlug(t);console.log(m),g(m),d(o)}},[t]),u&&e.jsxs("div",{style:{display:c===!1?"block":"none"},children:[e.jsxs("div",{className:Me.title,children:[e.jsx("div",{}),e.jsx("p",{children:ks.lastSlug(n)}),e.jsx("div",{className:Me.contract,children:!r&&u.length>0&&e.jsx("img",{src:Xt,onClick:()=>d(!0)})})]}),u.length>0&&r===!0?e.jsx("p",{onClick:()=>d(!1),className:Me.contracted,children:i("contracted_text")}):u.length>0?e.jsx("section",{className:Me.attributes,children:u.map((m,p)=>e.jsx(on,{attribute:m,onAttributeSelected:a,t:i},p))}):e.jsx("p",{className:Me.empty,children:i("no_products_in_category")})]})},rn="/attributes/all",ln=async()=>{const{data:s}=await E.get(rn,{headers:{user:R(),lang:I}});return P("attributes.selectAll()",s),s},dn=async()=>new Promise(async(s,t)=>{try{const n=await ln(),a=Object.assign(new un(n.categories),n.attributes);s(a)}catch(n){t(v(n))}});let un=class extends Array{categories;constructor(t){super(),this.categories=t}filterSlug=t=>mn(super.slice(),this.categories,t)};const mn=(s,t,n)=>{const a=hn(t,s);return n?a.filter(o=>o.slugs.includes(n)):a},hn=(s,t)=>{const n=new Map;for(const a of t)n.set(a.id,new Set);for(const a of s)for(const o of a.attributes)n.has(o)&&n.get(o).add(a.slug);return t.map(a=>({...a,slugs:Array.from(n.get(a.id)||[])}))},gn="/attributes";async function pn(s,t){try{delete s.id}catch{}const{data:n}=await E.post(gn,{attribute:s,slugs:t},{headers:{user:R(),lang:I}});return P(`attributes.post(${s}, ${t})`,n),n}const xn=async s=>new Promise(async(t,n)=>{try{const a=await pn(s,s.slugs);t(a)}catch(a){n(v(a))}}),_n="/attributes";async function fn(s,t){const{data:n}=await E.put(_n,{attribute:s,slugs:t},{headers:{user:R(),lang:I}});return P(`attributes.put(${s}, ${t})`,n),n}const jn=async(s,t)=>new Promise(async(n,a)=>{try{const o=await fn(s,s.slugs);n(o)}catch(o){a(v(o))}}),bn="/attributes/disable";async function vn(s){const{data:t}=await E.delete(bn+"/"+s,{headers:{user:R(),lang:I}});return P(`attributes.disable(${s})`,t),t}const Nn=async s=>new Promise(async(t,n)=>{try{s.disabled=!0;const a=await vn(s.id);t(a)}catch(a){n(v(a))}}),Sn="/attributes/enable";async function yn(s){const{data:t}=await E.delete(Sn+"/"+s,{headers:{user:R(),lang:I}});return P(`attributes.enable(${s})`,t),t}const An=async s=>new Promise(async(t,n)=>{try{s.disabled=!1;const a=await yn(s.id);t(a)}catch(a){n(v(a))}}),wn="/attributes/delete";async function Cn(s){const{data:t}=await E.delete(wn+"/"+s,{headers:{user:R(),lang:I}});return P(`attributes.delete(${s})`,t),t}const kn=async s=>new Promise(async(t,n)=>{try{s.disabled=null;const a=await Cn(s.id);t(a)}catch(a){n(v(a))}});function En(){const{t:s}=be(),[t,n]=l.useState(),[a,o]=l.useState(),[c,i]=l.useState(!1),[r,d]=l.useState(),[u,g]=l.useState(),[m,p]=l.useState(""),h=ve(),x=Z();l.useEffect(()=>{_()},[]);const _=()=>{F(o,n,dn).then(f=>{console.log("Response",f),console.log("Categories",f.categories),g(f.categories),d(f),i(!1)}).catch(f=>{console.error(f),f?.isNetworkError()&&i(!0)})},A=f=>{p(f)},j=f=>{window.scrollTo({top:0}),x(`${f.id}`,{state:{from:h.pathname,attribute:f,categories:u,slug:m??""}})},S=()=>{window.scrollTo({top:0}),x("new",{state:{from:h.pathname,slug:m??"",categories:u}})};return e.jsxs(e.Fragment,{children:[u&&e.jsx(Ps,{categories:u,onSlugChange:f=>A(f)}),t&&e.jsx("p",{className:"error",children:t}),!m&&e.jsxs("section",{className:ze.instructions,children:[e.jsx("p",{className:ze.instruction,children:s("instruction_1")}),e.jsx("p",{className:ze.instruction,children:s("instruction_2")}),e.jsx("p",{className:ze.instruction,children:s("instruction_3")})]}),e.jsx("hr",{}),a===!0?e.jsx(O,{}):c?e.jsx($e,{onClick:_}):e.jsxs(e.Fragment,{children:[e.jsx(cn,{defaultContracted:!(m?.length>0),slug:m,attributes:r,title:m===""?s("all_categories"):m.replace("-"," "),onAttributeSelected:j,t:s}),e.jsxs(e.Fragment,{children:[e.jsx("hr",{}),e.jsx("div",{className:ze.button,onClick:S,children:e.jsx("img",{src:Ue})})]})]})]})}const In="_title_1uozv_1",Rn="_subtitle_1uozv_21",hs={title:In,subtitle:Rn},Pn="_icon_1nmhx_37",Dn="_footer_1nmhx_67",Un="_input_1nmhx_95",Bn="_disabled_1nmhx_119",he={icon:Pn,footer:Dn,input:Un,disabled:Bn},ts="data:image/webp;base64,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",Us="data:image/webp;base64,UklGRkgEAABXRUJQVlA4TDwEAAAvMUAMEMcGOZIkV1X1oOGIA3iOgZzga7FdbsCRbbttcwA47N/Lc+XKbU4cCO9BjiRJkeS5B3Kc/qLxj68n3Day7SqDvHnhb5b6qIKM0PsPXImDCPB7nX8L5ePnsPm9ohi+/y9i3SKeb38ExWKxefs6KH87n7/HusXS5G9f/m8RlL8diw0vf1Zp0tLm8nBnJrs12zW7OTOZMTMJZsx2zW7N4W62azaDGTOTrckinU1mBumQpJNJNwaC6AXFYPBAaHDjATFj0n/WhcEDweBhXRg4CEI3hm7cCIIHg8EDigFGMd3prjebefRWqBEaGbB4gKBAIwvcUKQZsFEYwdYDBHo0gC+8sKEWXD+oEDhBSaCwkoZmoaER9HLCCisoXEKLFRRWWKmgWZRYyUnNSoe7HezwWFunxenqWkOPlQraSB+3PvZcPlc3T7k+PX+D+/MHk3m/zCBmJjNmBgze/o6WlbQ0WaVNw1/SxPvZP97sH4bBZt08Xn80tGHCAGNjsLShQKIAAIasTHbPyPVs27Zt+738bNu2bds24nzPdTfYfiCi/wzcNlKULB/j7BsAiUP9lTUlLEsr+4cAEw6UZcX4uThYs7Rz9o3OKhugZK45O8zZSENebG2b5aq4jJqhU3B28xwFXRP+5moihxDpsbiKiVdKFymDhWEWysuQwB1Fk8CCQSJ60py1NiChW+qOCZ0EtMZZKF5CYq+ljSMbsVTGGIhCKjd0QysxNMbor0FKd+ZDWpB0xBmwMnXSiehAMJxuIQoZcM3o0zAnec6KEMHNO/IkZZvDQVOYFupAv7i4yPmj6t/ExuyYxQYyP7uhGNo1Sp1lO5a/Mi7TKONR+Y9x82XGMjwwSJ4DoDNMDXLCfVtQGO2Lt4u/MUnJvxuAaWcRFHdwCAk8vfvyBsmmfTEAY0aHqENwPcd3zngfnaK4WogHIzEaENIl+ObBCUSoHDjS6CcHqZMgDwpJ98ZSF9yL+YuLG8/N/SUE6w6lRQ5r2PN6D/G+5kOwZ5Gfa70N6b14iODIOJcZft5inh8Y/kcn326VAV7xI9g3m6xxFsdDt6NV29oGX1k8dG+OiFtDX7Qa/Rj67VQK6JsbNTym45z3MfILuJ7/OgemnFALhNnLv6iv7Mk9zFe2YlUEQHuwCgEUX7KCTxsAc2Mmu5Axj/XiZwEA5Z6KzCHlXM4WbjNMtpjiUO8ze0CuD1S/Zghl7wqOqJvlKM0M4paZnJG4N9F0gwl29GJ7UYExSneHgZU0g1oByurQeep0qOVXB9DOBOusUS7V9p8BOKvDjST/0OxNL6iOJMh/sVPdJV5N2TK2FZDYm+VvJHNI9EpK6Xln9pLOhhqS3A2UNq8wM4gVBT3nj/VzgNihqlR/mwVlibW9I5b7ax+U5q18E8op52pz7cXfAz0cLIxZmtm5Bnwrbp8D9M6NtNTk57LMr2kZIRkB",zn="_label_pfduf_1",Mn="_extension_pfduf_13",Vn="_inputContainer_pfduf_23",Fn="_input_pfduf_23",Ln="_checkbox_pfduf_59",Ve={label:zn,extension:Mn,inputContainer:Vn,input:Fn,checkbox:Ln},fe=l.forwardRef(({label:s="",extension:t="",className:n,name:a,id:o,defaultChecked:c,defaultValue:i,type:r,min:d,max:u},g)=>e.jsxs("div",{className:`${n} ${r==="checkbox"?Ve.checkbox:""}`,children:[s&&e.jsx("p",{className:Ve.label,children:s}),e.jsxs("div",{className:Ve.inputContainer,children:[e.jsx("input",{id:o,name:a,ref:g,type:r,min:d,max:u,defaultValue:i,defaultChecked:c,className:Ve.input}),e.jsx("p",{className:Ve.extension,children:t})]})]})),Tn="_categories_152nl_1",qn="_category_container_152nl_23",$n="_category_152nl_23",Qn="_slug_152nl_61",On="_add_152nl_79",Zn="_searching_152nl_95",Gn="_accept_152nl_127",ge={categories:Tn,category_container:qn,category:$n,slug:Qn,add:On,searching:Zn,accept:Gn},ns="data:image/webp;base64,UklGRqgCAABXRUJQVlA4TJwCAAAvL8ALEG8FO5Jt1cpa56Ff7pB/MKSgKbjfM4MkATW2bVnRPo/ZgSX/MPBYskCDGrrv2XAjSVJsVT/W+D398//+G0L6N4J5u5zWtu1Em4VKOvZBDdAL7WQUZTBuuok6qfl1CPj4fAdaVLaotKiobKFsUdFS5QKVURKORClIZWCUAVSQhVEGRBloGVmN7cT6fm77tDIIjes+Xwzh5fUGdHW670URiqAIgVSEQVATIRo8+CJwU/7BKLAn+RWSwFMMj3mZF4agyRAB0hJQJRKhPPwTzZRKJEKJVCAtkApKhJJSgVRQqggiLZAI6zSn6xqL98FhnY9M3xu3s3h5rrqlNVs4zKmpnGFaswMIhbW6fp2X76t+53535HF40GKK/6KaLf6LFiBT6Ffyio2ayRi4BUKTpkESDQqSaNBEE13RxFjRoImuGImu+Ae6YqwI3Joo1F0MkmL5G8/781MLaLdtG1tutm3bxslvtm28yraNJ9t2f/LVvc9JXyP6TzBJs+Uz5I/9++vLJ+o+3p6fHuewPdzPY7u7XcB2c72I7epyCdvF+TK2s9MVbCfHq9iODtewHeyvY9vb3WLcLDtum219PHA7TOspnWHHbbIpK+9ntsGqonIAW1X1ILaa2iFsdfXDGHpVamgc4S+1WLWm5lHeoISipXWML0inaWsf58MvGAAyaDpEE+z81XzkZdKIJZOs0uK91X2DACCLRto5xX0RliVAvLmGSQgAZNN0dk4TxkG8maapvByaLsI2Aciy1LKQl4uBkBQAiLPWtpKXR8GrWFsdm1AAKFCJb166dmEAUKgC/xz07OUVKUEo0knfUV6+UNhNCErRLgbO4QAAyYQgFeNp6BqhAC93I7cIGcSiPIwDCMEtkGBekJQoIP/aCQ==",Jn=({categories:s,slugs:t,onAdd:n,onRemove:a,t:o,editable:c=!0})=>{const[i,r]=l.useState(null),[d,u]=l.useState(null),[g,m]=l.useState(!0),p=x=>{const _=()=>(a(x),r(null),u(null),m(!1));g?r(e.jsx(Q,{title:o("editor_remove_category"),message:o("can_restore_later"),onReject:()=>r(null),onAccept:_,children:e.jsx(e.Fragment,{})})):_()},h=x=>{x&&n(x),r(null),u(null)};return e.jsxs("div",{className:ge.categories,children:[!t||t.length==0?e.jsx("p",{children:o("no_categories_assigned")}):e.jsx("p",{style:{paddingBottom:".8em"},children:o("categories_assigned")}),e.jsx("div",{className:ge.category_container,children:t&&t.map((x,_)=>e.jsxs("div",{className:ge.category,children:[e.jsx("p",{className:ge.slug,children:x}),c&&e.jsx("img",{src:ns,onClick:()=>p(x)})]},_))}),d!==null&&e.jsxs("div",{className:ge.searching,children:[e.jsx("div",{className:ge.searching_slug,children:e.jsx(Ps,{categories:s,onSlugChange:x=>u(x)})}),e.jsx("div",{className:ge.accept,children:e.jsxs("div",{children:[e.jsx("img",{src:_e,onClick:()=>h(d)}),e.jsx("img",{src:oe,onClick:()=>u(null)})]})})]}),d===null&&c&&e.jsx("div",{className:ge.add,children:e.jsx("img",{src:Ue,onClick:()=>u("")})}),i]})},Yn="_attributes_dp37v_1",Kn="_details_dp37v_41",Wn="_add_dp37v_101",Xn="_form_dp37v_111",Hn="_value_dp37v_201",ea="_value_disabled_dp37v_213",le={attributes:Yn,details:Kn,add:Wn,form:Xn,value:Hn,value_disabled:ea},sa=({values:s,onAddValue:t,onEditValue:n,onRemoveValue:a,onDisableValue:o,onEnableValue:c,t:i})=>{const[r,d]=l.useState(null),[u,g]=l.useState(null),[m,p]=l.useState(!1),[h,x]=l.useState(!1),[_,A]=l.useState(null),j=l.useRef();l.useEffect(()=>{C()},[s]);const S=w=>{w?.length>0&&t(w),C()},f=(w,k)=>{w!=k&&n(w,k),C()},y=w=>{const k=w.disabled!==!0;A(e.jsx(Q,{title:i("attribute_value_remove_title"),message:i(k?"attribute_disable_message":"attribute_remove_message"),onReject:()=>A(void 0),onAccept:()=>{A(null),k?o(w.name):a(w.name),C()}}))},b=w=>{A(e.jsx(Q,{title:i("attribute_value_enable_title"),message:w.name,onReject:()=>A(null),onAccept:()=>{A(null),c(w.name),C()}}))},C=(w=!1)=>{x(!1),p(!1),d(null),g(null)};return e.jsxs("div",{className:le.attributes,children:[e.jsx("article",{children:e.jsxs("div",{className:le.details,children:[s?.length>0&&s.map((w,k)=>e.jsx("div",{children:u!=w?e.jsx("p",{className:w.disabled!==!0?le.value:le.value_disabled,onClick:()=>g(w),children:w.name}):e.jsxs("div",{className:le.form,children:[e.jsxs("p",{children:[i("value"),":"]}),e.jsx(fe,{ref:j,name:"value",className:le.input,defaultValue:w.name}),e.jsx("img",{onClick:()=>f(w.name,j.current.value.trim()),src:_e}),e.jsx("img",{onClick:()=>g(!1),src:oe}),e.jsx("img",{onClick:()=>y(w),src:ts}),w.disabled===!0&&e.jsx("img",{onClick:()=>b(w),src:Us})]})},k)),u?e.jsx(e.Fragment,{}):m===!1?e.jsx("img",{className:`cursor ${le.add}`,src:Ue,onClick:()=>p(!0)}):e.jsxs("div",{className:le.form,children:[e.jsxs("p",{children:[i("value"),":"]}),e.jsx(fe,{ref:j,name:"value",className:le.input}),e.jsx("img",{onClick:()=>S(j.current.value.trim()),src:_e}),e.jsx("img",{onClick:()=>p(!1),src:oe})]})]})}),_]})},ta="_background_ma4wa_1",na="_confirmation_ma4wa_23",aa="_title_ma4wa_51",oa="_message_ma4wa_65",ca="_buttons_ma4wa_75",ia="_button_ma4wa_75",ye={background:ta,confirmation:na,title:aa,message:oa,buttons:ca,button:ia};function me({title:s,message:t,onAccept:n,children:a}){return e.jsx("div",{className:ye.background,onClick:n,children:e.jsxs("div",{className:ye.confirmation,onClick:o=>o.stopPropagation(),children:[e.jsx("p",{className:`${ye.message} ${ye.title}`,children:s}),e.jsx("p",{className:ye.message,children:t}),a,e.jsx("div",{className:ye.buttons,children:e.jsx("img",{className:ye.button,src:_e,onClick:n})})]})})}class gs{id;name;values;slugs;disabled;constructor(t){this.id=t?.id??null,this.name=t?.name??"",this.values=t?.values??[],this.slugs=t?.slugs??[],this.disabled=t?.disabled??!1}toJson=()=>({id:this.id,name:this.name,values:this.values,slugs:this.slugs,disabled:this.disabled});slice=()=>new gs(this.toJson());hasValue=t=>this.values.find(n=>n.name==t)!=null;addValue=t=>(this.values.push({id:null,name:t,disabled:!1}),this.slice());renameValue=(t,n)=>{const a=this.values.findIndex(o=>t==o.name);return a>=0&&(this.values[a].name=n),this.slice()};disableValue=t=>{const n=this.values.findIndex(a=>t==a.name);return n>=0&&(this.values[n].disabled=!0),this.slice()};enableValue=t=>{const n=this.values.findIndex(a=>t==a.name);return n>=0&&(this.values[n].disabled=!1),this.slice()};removeValue=t=>{const n=this.values.findIndex(a=>t==a.name);return n>=0&&this.values.splice(n,1),this.slice()};addCategory=t=>(this.slugs.includes(t)||this.slugs.push(t),this.slice());removeCategory=t=>{const n=this.slugs.findIndex(a=>t==a);return n>=0&&this.slugs.splice(n,1),this.slice()}}const Bs=({attributeSelected:s,categories:t,onSuccess:n,onCancel:a,onEnable:o,onDelete:c,t:i})=>{const[r,d]=l.useState(),[u,g]=l.useState(),[m,p]=l.useState();l.useEffect(()=>{console.log("Attribute Selected",s),console.log("Categories",t),p(new gs(s))},[s]);const h=l.useRef(),x=l.useRef(),_=(N,D,G)=>{d(e.jsx(Q,{title:N,message:D,onAccept:()=>{d(null),G()},onReject:()=>d(null)}))},A=()=>{if(h.current.value.trim().length>0){const N=m.toJson();N.name=h.current.value,console.log(N),_(i("editor_save_title"),i("editor_save_message"),()=>n(N,h.current.value))}else g(i("editor_invalid_name"))},j=()=>{_(i("editor_cancel_title"),i("editor_cancel_message"),a)},S=()=>{_(i("editor_remove_title"),m?.disabled===!1?i("editor_disable_message"):i("editor_delete_message"),()=>c(m))},f=()=>{_(i("editor_recove_title"),m.name,()=>o(m))},y=N=>{console.log("attribute:",m),console.log("value:",N),N?.length>0?m.hasValue(N)?g(i("attribute_value_no_repeated")):p(m.addValue(N)):g(i("attribute_no_name_error"))},b=(N,D)=>{D?.length>0?m.hasValue(D)?g(i("attribute_value_no_repeated")):p(m.renameValue(N,D)):g(i("attribute_no_name_error"))},C=N=>p(D=>D.disableValue(N)),w=N=>p(m.enableValue(N)),k=N=>p(D=>D.removeValue(N)),B=N=>p(D=>D.addCategory(N)),z=N=>p(D=>D.removeCategory(N));return e.jsxs("section",{children:[u&&e.jsx("p",{className:"error",children:u}),e.jsx(Jn,{categories:t,slugs:m?.slugs,onAdd:B,onRemove:z,t:i}),m?.disabled===!0&&e.jsx("p",{className:he.disabled,children:i("attribute_disabled")}),e.jsx(fe,{ref:h,name:"name",className:he.input,label:i("name"),defaultValue:m?.name}),m&&e.jsx(sa,{values:m.values,t:i,onAddValue:y,onEditValue:b,onRemoveValue:k,onDisableValue:C,onEnableValue:w}),!(!m?.disabled||!m)&&e.jsx(fe,{ref:x,className:he.input,label:`${i("is_available")}:`,type:"checkbox",defaultChecked:!m?.disabled}),e.jsxs("div",{className:he.footer,children:[e.jsxs("div",{className:he.icon,children:[" ",e.jsx("img",{src:oe,onClick:j})," "]}),m?.id&&e.jsxs("div",{className:he.icon,children:[" ",e.jsx("img",{src:ts,onClick:S})," "]}),!!m?.disabled&&e.jsxs("div",{className:he.icon,children:[" ",e.jsx("img",{src:Us,onClick:f})," "]}),e.jsxs("div",{className:he.icon,children:[" ",e.jsx("img",{src:_e,onClick:A})," "]})]}),u&&e.jsxs(me,{onAccept:()=>g(void 0),title:i("error"),children:[" ",e.jsx("p",{className:"error",children:u})," "]}),r]})},ra=()=>{const{t:s}=be(),t=Z(),n=ve(),{setIsAdminSessionActive:a}=T(),[o,c]=l.useState(),[i,r]=l.useState(),[d,u]=l.useState(),[g,m]=l.useState(),[p,h]=l.useState(null),[x,_]=l.useState(!1),[A,j]=l.useState();l.useEffect(()=>{n?.state?(console.log(n.state),c(n.state.attribute),r(n.state.from),u(n.state.slug),m(n.state.categories)):t("/admin/attributes")},[]);const S=k=>{c(k)},f=()=>t(d?`${i}?slug=${d}`:i),y=()=>t(i||-1,{replace:!0}),b=(k,B)=>{F(_,j,jn,k,B).then(z=>{t(d?`${i}?slug=${d}`:i)}).catch(z=>{z.adminSessionExpired()&&a(!1),console.error(z)})},C=k=>{const B=k?.disabled!==!0?Nn:kn;F(_,j,B,k).then(z=>z?.disabled?S(k):f()).catch(z=>{console.error(z),z.adminSessionExpired()&&a(!1)})},w=k=>{F(_,j,An,k).then(B=>S(k)).catch(B=>{console.error(B),B.adminSessionExpired()&&a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:hs.subtitle,children:s("edit")}),A&&e.jsx("p",{className:"error",children:A}),o&&e.jsx(Bs,{attributeSelected:o,categories:g,onSuccess:b,onCancel:y,onDelete:C,onEnable:w,t:s}),p,x&&e.jsx(je,{})]})},la=()=>{const{t:s}=be(),t=Z(),n=ve(),[a,o]=l.useState(),[c,i]=l.useState(),[r,d]=l.useState(),[u,g]=l.useState(null),[m,p]=l.useState(!1),[h,x]=l.useState(!0),[_,A]=l.useState(),{setIsAdminSessionActive:j}=T();l.useEffect(()=>{n?.state&&(console.log(n.state),o(n.state.from),i(n.state.slug),d(n.state.categories)),x(!1),p(!0)},[]);const S=b=>{!us()||!b?(t(`${a}?slug=${c}`,{replace:!0}),window.location.reload()):g(e.jsx(me,{title:"Changes saved",message:"To view them, you must reload the page",onAccept:()=>{t(`${a}?slug=${c}`,{replace:!0}),window.location.reload()}}))},f=b=>{F(x,A,xn,b).then(C=>{t(c?`${a}?slug=${c}`:a)}).catch(C=>{C.adminSessionExpired()&&j(!1),console.error(C)})},y=()=>t(a||-1,{replace:!0});return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:hs.subtitle,children:s("create")}),_&&e.jsx("p",{className:"error",children:_}),m&&e.jsx(Bs,{attributeSelected:null,categories:r,onSuccess:f,onCancel:y,onDelete:S,onEnable:S,t:s}),u,h&&e.jsx(je,{})]})},da=e.jsxs(e.Fragment,{children:[e.jsx($,{index:!0,element:e.jsx(En,{})}),e.jsx($,{path:":id",element:e.jsx(ra,{})}),e.jsx($,{path:"new",element:e.jsx(la,{})})]});function ua(){const{t:s,ready:t}=ce("/admin/attributes","admin");return t?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:hs.title,children:s("title")}),e.jsx(He,{context:{t:s}})]}):e.jsx(je,{})}const ma="/categories/all",ha=async()=>{const{data:s}=await E.get(ma,{headers:{user:R(),lang:I}});return P("categories.selectAll()",s),s},ga=async()=>new Promise(async(s,t)=>{try{const n=await ha(),a=xa(n.categories,n.attributes),o=Object.assign(new pa(n.attributes),a);console.log("categories handled:",o),s(o)}catch(n){t(v(n))}});let pa=class extends Array{attributes;constructor(t){super(),this.attributes=t}};const xa=(s,t)=>{const n=new Map(t.map(r=>[r.id,r])),a=r=>{const d=g=>g?.length>0?g.charAt(0).toUpperCase()+g.slice(1):g;return(g=>d(g.slug.split("/").pop().replaceAll("-"," ")))(r)},o=r=>r.map(d=>n.get(d)).filter(Boolean).map(d=>({id:d.id,name:d.name,disabled:d.disabled,values:[...d.values].sort((u,g)=>u.id-g.id)})),c=new Map;for(const r of s)c.set(r.slug,{slug:r.slug,name:a(r),attributes:o(r.attributes),children:[],disabled:r.disabled});const i=[];for(const r of s){const d=c.get(r.slug),u=r.slug.split("/");if(u.length===1)i.push(d);else{const g=u.slice(0,-1).join("/"),m=c.get(g);m&&m.children.push(d)}}return i},_a="/categories",fa=async(s,t)=>{const{data:n}=await E.post(_a,{name:s,parentSlug:t},{headers:{user:R(),lang:I}});return P(`categories.post(${s}, ${t})`,n),n},ja=async(s,t)=>new Promise(async(n,a)=>{const{t:o}=ie();if(H()===!0)try{if(s){const c=s.replace(/[\/\-\_\!\,\.]/g,""),i=await fa(c,t);n(i)}else a(v(o("error:handle_error_body")))}catch(c){a(v(c))}else a(v(o("error:session_expired")))}),ba="/categories/rename",va=async(s,t)=>{const{data:n}=await E.put(ba,{slug:s,name:t},{headers:{user:R(),lang:I}});return P(`categories.rename(${s}, ${t})`,n),n},Na=async(s,t)=>new Promise(async(n,a)=>{const{t:o}=ie();if(H()===!0)try{if(s)if(t&&t.length>0){const c=await va(s,t);n(c)}else a(v(o("error:handle_error_body")));else a(v(o("error:handle_error_body")))}catch(c){a(v(c))}else a(v(o("error:session_expired")))}),Sa="/categories/delete",ya=async(s,t)=>{const n=Ne.set({force:t===!0,slug:s}),{data:a}=await E.delete(Sa+n,{headers:{user:R(),lang:I}});return P(`categories.delete(${s}, ${t})`,a),a},Aa=async(s,t)=>new Promise(async(n,a)=>{const{t:o}=ie();if(H()===!0)try{if(s){const c=await ya(s,t);n(c)}else a(v(o("error:handle_error_body")))}catch(c){a(v(c))}else a(v(o("error:session_expired")))}),wa="/categories/disable",Ca=async(s,t)=>{const n=Ne.set({force:t===!0,slug:s}),{data:a}=await E.delete(wa+n,{headers:{user:R(),lang:I}});return P(`categories.disable(${s}, ${t})`,a),a},ka=async(s,t)=>new Promise(async(n,a)=>{const{t:o}=ie();if(H()===!0)try{if(s){const c=await Ca(s,t);n(c)}else a(v(o("error:handle_error_body")))}catch(c){a(v(c))}else a(v(o("error:session_expired")))}),Ea="/categories/enable",Ia=async s=>{const{data:t}=await E.put(Ea,{slug:s},{headers:{user:R(),lang:I}});return P(`categories.enable(${s})`,t),t},Ra=async s=>new Promise(async(t,n)=>{const{t:a}=ie();if(H()===!0)try{if(s){const o=await Ia(s);t(o)}else n(v(a("error:handle_error_body")))}catch(o){n(v(o))}else n(v(a("error:session_expired")))}),Pa="/categories/move",Da=async(s,t)=>{const{data:n}=await E.put(Pa,{slug:s,to:t},{headers:{user:R(),lang:I}});return P(`categories.move(${s} -> ${t})`,n),n},Ua=async(s,t)=>new Promise(async(n,a)=>{const{t:o}=ie();if(H()===!0)try{if(s)if(s.slug.startsWith(t?.slug))a(v(o("error:handle_error_body")));else{console.log(`Moving ${s} to ${t}`);const c=await Da(s.slug,t?.slug);n(c)}else a(v(o("error:handle_error_body")))}catch(c){a(v(c))}else a(v(o("error:session_expired")))}),Ba="/categories",za=async(s,t)=>{P("categories.put",s);const{data:n}=await E.put(Ba,{category:s,apply_children:t},{headers:{user:R(),lang:I}});return P("categories.put response",n),n},Ma=async(s,t)=>new Promise(async(n,a)=>{const{t:o}=ie();if(H()===!0)try{if(s){s.children&&delete s.children;const c=await za(s,t);n(c)}else a(v(o("error:handle_error_body")))}catch(c){a(v(c))}else a(v(o("error:session_expired")))}),Va="_title_1a7da_1",Fa="_subtitle_1a7da_21",La="_category_1a7da_37",Ta="_instructions_1a7da_75",qa="_instruction_1a7da_75",Ee={title:Va,subtitle:Fa,category:La,instructions:Ta,instruction:qa},$a="_routes_ix6h6_1",Qa="_route_ix6h6_1",Oa="_separator_ix6h6_37",Za="_input_ix6h6_55",Ga="_button_ix6h6_75",Ja="_span_ix6h6_97",de={routes:$a,route:Qa,separator:Oa,input:Za,button:Ga,span:Ja},Te={find(s,t){for(const n of s){if(n.slug===t)return n;if(n.children&&n.children.length>0){const a=this.find(n.children,t);if(a)return a}}return null},name(s){const t=a=>a?.length>0?a.charAt(0).toUpperCase()+a.slice(1):a;return(a=>t(a.slug.split("/").pop().replaceAll("-"," ")))(s)}},Ya=s=>{const t=[];for(let n=1;n<=s.length;n++)t.push(s.slice(0,n).join("/"));return t},Ka=({categories:s,category:t,onClick:n,onEdit:a,canEdit:o=void 0,t:c})=>{const[i,r]=l.useState(),[d,u]=l.useState(),[g,m]=l.useState(!1),p=l.useRef(),{setIsAdminSessionActive:h}=T();l.useEffect(()=>{if(u(void 0),m(void 0),t){const j=t.slug,S=t.slug.split("/"),y=Ya(S).map((b,C)=>e.jsxs("div",{className:"flex-center",children:[e.jsx("p",{className:de.separator,children:"/"}),e.jsx("p",{className:de.route,onClick:b==j?()=>x(j):()=>n(Te.find(s,b)),children:S[C]})]},C));r(y)}else r()},[t]);const x=j=>{o&&u(j)},_=()=>{u(void 0),m(!1)},A=()=>{const j=p.current.value;F(m,()=>{},Na,t.slug,j).then(S=>{u(void 0),a(S)}).catch(S=>{console.error(S),S.adminSessionExpired()?h(!1):alert(c("couldnt_edit_category"))})};return s&&e.jsx("div",{className:de.routes,children:g?e.jsx(O,{}):d!==void 0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:de.span,children:[e.jsx("span",{className:de.span,style:{fontWeight:"bold"},children:`${c("editing")}:`}),` '${d}'`]}),e.jsx("input",{ref:p,className:de.input,placeholder:c("new_name")}),e.jsx("img",{className:de.button,src:_e,onClick:A}),e.jsx("img",{className:de.button,src:oe,onClick:_})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:de.route,onClick:()=>n(),children:"index"}),i]})})},Wa="_container_5h3rt_1",Xa="_active_5h3rt_21",Ha="_inactive_5h3rt_45",eo="_empty_5h3rt_87",Oe={container:Wa,active:Xa,inactive:Ha,empty:eo},so=({parent:s,options:t,onClick:n,t:a})=>t&&e.jsx("div",{className:Oe.container,children:t&&t.length>0?t.map((o,c)=>e.jsx("p",{className:o.disabled?Oe.inactive:Oe.active,onClick:()=>n(o),children:o.name},c)):e.jsxs("div",{className:Oe.empty,children:[e.jsx("p",{children:a("categories_empty")}),s&&!s.disabled&&e.jsx("p",{children:a("categories_create_instruction")})]})}),to="_button_1n20g_1",no="_form_1n20g_31",ao="_title_1n20g_53",oo="_input_1n20g_71",co="_warning_1n20g_87",io="_disabled_1n20g_97",Ae={button:to,form:no,title:ao,input:oo,warning:co,disabled:io},ro=({parent:s,onCreate:t,t:n})=>{const[a,o]=l.useState(!0),[c,i]=l.useState(!1),[r,d]=l.useState(!1),[u,g]=l.useState(""),{setIsAdminSessionActive:m}=T(),p=l.useRef();l.useEffect(()=>{i(!1),o(s?s.disabled:!1)},[s]),l.useEffect(()=>{c&&p.current.focus()},[c]);const h=()=>{const x=p.current.value.trim(),_=s?s.slug:void 0;x.length>0?ks.hasSpecialCharacter(x)?g(n("category_invalid_name")):F(d,g,ja,x,_).then(A=>{i(!1),t(A)}).catch(A=>{A.adminSessionExpired()&&m(!1),console.error(A)}):g(n("category_create_no_name_error"))};return a===!0?e.jsx("p",{className:Ae.disabled,children:n("category_disabled")}):c?r?e.jsx(O,{}):e.jsxs("div",{className:Ae.form,children:[e.jsx("p",{className:Ae.title,children:n("category_category_name")}),e.jsx("input",{ref:p,className:Ae.input}),e.jsx("button",{className:Ae.button,onClick:h,children:n("create")}),e.jsx("p",{className:Ae.warning,children:u})]}):e.jsx("div",{className:"flex-center",children:e.jsx("button",{className:Ae.button,onClick:()=>i(!0),children:n(s?"category_create_subcategory":"create")})})},lo="_button_1y4co_1",uo="_cancel_1y4co_33",mo="_deletes_1y4co_51",ho="_form_1y4co_87",go="_title_1y4co_107",po="_subtitle_1y4co_115",xo="_warning_1y4co_123",L={button:lo,cancel:uo,deletes:mo,form:ho,title:go,subtitle:po,warning:xo},_o="disable",bs="delete",fo=({category:s,onDelete:t,t:n})=>{const[a,o]=l.useState(!1),[c,i]=l.useState(!1),[r,d]=l.useState(!1),[u,g]=l.useState(),{setIsAdminSessionActive:m}=T(),p=l.useRef();l.useEffect(()=>{o(!1),i(!1)},[s]);const h=()=>{i(!1),o(!0)},x=_=>{F(d,g,_===bs?Aa:ka,s.slug,p.current.checked).then(j=>{Re()}).catch(j=>{j.adminSessionExpired()&&m(!1),console.error(j)})};return r?e.jsx(O,{}):a?e.jsx("div",{className:L.deletes,onClick:()=>o(!1),children:e.jsxs("div",{className:L.form,onClick:_=>_.stopPropagation(),children:[e.jsx("p",{className:L.title,children:s.name}),e.jsx("p",{className:L.subtitle,children:s.slug}),c?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:L.subtitle,children:n("category_delete_method_question")}),e.jsx("button",{className:`${L.button} ${L.cancel}`,onClick:()=>o(!1),children:n("cancel")}),!s.disabled&&e.jsx("button",{onClick:()=>x(_o),className:`${L.button} ${L.option}`,children:n("disable")}),e.jsx("button",{onClick:()=>x(bs),className:`${L.button} ${L.option}`,children:n("delete_force")}),e.jsxs("div",{className:"flex-center",children:[e.jsx("input",{ref:p,style:{marginRight:".5rem"},type:"checkbox"}),e.jsx("p",{children:n("category_apply_to_subcategories")})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:L.subtitle,children:n("category_delete_question")}),e.jsx("button",{className:L.button,onClick:()=>i(!0),children:n("delete")}),e.jsx("button",{className:`${L.button} ${L.cancel}`,onClick:()=>o(!1),children:n("cancel")})]}),e.jsx("p",{className:L.warning,children:u})]})}):e.jsx("div",{className:"flex-center",children:e.jsx("button",{className:L.button,onClick:()=>h(),children:`${n("delete")} ${s.name}`})})},jo="_button_qdr06_1",bo="_warning_qdr06_87",vs={button:jo,warning:bo},vo=({category:s,t})=>{const[n,a]=l.useState(!1),[o,c]=l.useState(!1),[i,r]=l.useState(void 0),{setIsAdminSessionActive:d}=T();l.useEffect(()=>{a(!1)},[s]);const u=()=>{a(!1),F(c,r,Ra,s.slug).then(()=>{Re()}).catch(g=>{g.adminSessionExpired()&&d(!1),console.error(g)})};return e.jsxs(e.Fragment,{children:[n&&e.jsx(Q,{title:s.name,message:t("category_enable_question"),onAccept:u,onReject:()=>a(!1)}),e.jsx("div",{className:"flex-center-column",children:o==!0?e.jsx(O,{}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:vs.button,onClick:()=>a(!0),children:`${t("reenable")} ${s.name}`}),e.jsx("p",{className:vs.warning,children:i})]})})]})},No="_button_vr401_1",So="_warning_vr401_87",Ze={button:No,warning:So},yo=({categorySelected:s,category:t,onSelect:n,t:a})=>{const[o,c]=l.useState(!1),[i,r]=l.useState(!1),[d,u]=l.useState(void 0),{setIsAdminSessionActive:g}=T();l.useEffect(()=>{c(!1)},[t]);const m=(h,x)=>{c(e.jsx(Q,{title:a("category_move_question"),message:`'${x.slug}' -> ${h?.slug??"index"}`,onAccept:()=>p(h,x),onReject:()=>c(!1)}))},p=(h,x)=>{c(!1),F(r,u,Ua,x,h).then(_=>{Re()}).catch(_=>{_.adminSessionExpired()&&g(!1),console.error(_)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-center-column",children:i==!0?e.jsx(O,{}):s===void 0?t&&e.jsx("button",{className:Ze.button,onClick:()=>n(t),children:`${a("move")} ${t.name}`}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-center-column",children:[e.jsx("button",{className:Ze.button,onClick:()=>m(t,s),children:`${a("move")} ${s.name} ${a("category_here")}`}),e.jsx("button",{className:Ze.button,onClick:()=>n(void 0),children:a("category_cancel_move")})]}),e.jsx("p",{className:Ze.warning,children:d})]})}),o]})},Ao="_button_1qu8j_1",wo="_subtitle_1qu8j_31",Co="_empty_1qu8j_49",ko="_attributes_1qu8j_57",Eo="_attribute_1qu8j_57",Io="_hr_1qu8j_85",Ro="_attribute_disabled_1qu8j_93",Po="_attribute_selected_1qu8j_101",Do="_attribute_unselected_1qu8j_113",Uo="_value_active_1qu8j_145",Bo="_value_inactive_1qu8j_153",W={button:Ao,subtitle:wo,empty:Co,attributes:ko,attribute:Eo,hr:Io,attribute_disabled:Ro,attribute_selected:Po,attribute_unselected:Do,value_active:Uo,value_inactive:Bo},zo=({categories:s,category:t,t:n})=>t?e.jsx(Mo,{categories:s,category:t,t:n}):e.jsx(Vo,{categories:s,t:n}),Mo=({categories:s,category:t,t:n})=>{const a=Z(),o=()=>{a("attributes",{state:{categories:s,slug:t.slug}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-center-column",children:[e.jsx("p",{className:W.subtitle,children:n("attributes")}),e.jsx(Fo,{attributes:Te.find(s,t.slug)?.attributes??[],t:n}),e.jsx("button",{className:W.button,onClick:o,children:`${n(t?"attributes_set":"attributes_set_global")}`})]}),e.jsx("hr",{})]})},Vo=({categories:s,t})=>{},Fo=({attributes:s,t})=>{const[n,a]=l.useState(null),o=c=>c?.length>0?c.map((i,r)=>e.jsx("p",{className:i.disabled!==!0?W.value_active:W.value_inactive,children:i.name},r)):e.jsx("p",{className:W.empty,children:t("values_empty")});return e.jsx("div",{className:W.attributes,children:s?.length>0?s.map((c,i)=>e.jsxs("div",{className:`${W.attribute} ${c.disabled==!0?W.attribute_disabled:""} ${n==i?W.attribute_selected:W.attribute_unselected}`,onClick:()=>a(r=>r==i?null:i),children:[e.jsx("p",{className:c.disabled==!0?W.attribute_disabled:null,children:c.name}),n==i&&e.jsxs("div",{children:[e.jsx("hr",{className:W.hr}),o(c.values)]})]},i)):e.jsx("p",{className:W.empty,children:t("attributes_empty")})})},Lo=()=>{const{t:s}=be(),[t,n]=l.useState(!0),[a,o]=l.useState(),[c,i]=l.useState(!1),[r,d]=l.useState(),[u,g]=l.useState(),[m,p]=l.useState(),[h,x]=l.useState(),_=f=>{F(n,o,ga,!0).then(y=>{d(y),g(y),f&&f(y),i(!1)}).catch(y=>{console.error(y),y?.isNetworkError()&&i(!0)})};l.useEffect(()=>{_()},[]);const A=f=>{if(document.getElementById("header")?.scrollIntoView({behavior:"smooth"}),f){if(f.name=Te.name(f),f&&f.slug.startsWith(h?.slug)){o(s("couldnt_move_inside_self"));return}else h&&o();p(f),g(f.children)}else p(f),g(r)},j=f=>{_(y=>{x(void 0),A(Te.find(y,f.slug))})},S=f=>{f||o(),x(f),A()};return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Ee.title,children:s("title")}),t===!0?e.jsx(O,{}):e.jsxs(e.Fragment,{children:[e.jsx(Ka,{categories:r,category:m,onClick:A,onEdit:j,canEdit:!0,t:s}),h&&e.jsx("p",{className:"green",children:`${s("instruction_movement")} ${h.name}`}),a&&e.jsx("p",{className:"error",children:a}),m&&e.jsx("p",{className:Ee.category,children:m?.name}),!m&&!h&&e.jsxs("section",{className:Ee.instructions,children:[e.jsx("p",{className:Ee.instruction,children:s("instruction_1")}),e.jsx("p",{className:Ee.instruction,children:s("instruction_2")})]}),e.jsx("hr",{}),m&&e.jsx("p",{className:Ee.subtitle,children:s("subcategories")}),e.jsx(so,{parent:m,options:u,onClick:A,t:s}),!c&&!h&&e.jsx(ro,{parent:m,onCreate:j,t:s}),e.jsx("hr",{}),c?e.jsx($e,{onClick:_}):e.jsxs(e.Fragment,{children:[r&&r.attributes.length>0&&!h&&e.jsx(zo,{categories:r,category:m,t:s}),m&&!h&&m.disabled&&e.jsx(vo,{category:m,t:s}),m&&!h&&e.jsx(fo,{category:m,t:s}),r&&e.jsx(yo,{categorySelected:h,category:m,onSelect:S,t:s})]})]})]})},To="_header_f1koo_1",qo="_title_f1koo_21",$o="_slug_f1koo_35",Qo="_instructions_f1koo_81",Oo="_instruction_f1koo_81",Zo="_add_f1koo_107",Go="_save_f1koo_137",Jo="_cancel_f1koo_167",Yo="_dialog_f1koo_197",Ko="_response_f1koo_209",Wo="_nothing_f1koo_217",Xo="_something_f1koo_225",q={header:To,title:qo,slug:$o,instructions:Qo,instruction:Oo,add:Zo,save:Go,cancel:Jo,dialog:Yo,response:Ko,nothing:Wo,something:Xo},Ho="_attributes_1v1d5_1",ec="_attribute_1v1d5_1",sc="_img_1v1d5_47",tc="_active_1v1d5_65",nc="_inactive_1v1d5_73",ac="_details_1v1d5_81",oc="_value_1v1d5_95",cc="_disabled_1v1d5_105",ic="_empty_values_1v1d5_113",se={attributes:Ho,attribute:ec,img:sc,active:tc,inactive:nc,details:ac,value:oc,disabled:cc,empty_values:ic},rc=({attributes:s,onSelect:t,onRemove:n,asked:a,t:o})=>{const[c,i]=l.useState(),[r,d]=l.useState(null);l.useEffect(()=>{m()},[c]);const u=(p,h)=>{h.stopPropagation();const x=()=>{d(null),n(p),m(!0)};a?x():d(e.jsx(Q,{title:o("attribute_remove_title"),message:o("attribute_remove_message"),onReject:()=>d(void 0),onAccept:x,children:void 0}))},g=p=>{t(),c?.name==p?.name?i(void 0):i(p)},m=(p=!1)=>{p==!0&&i(void 0)};return e.jsxs("div",{className:se.attributes,children:[s?.length>0?s?.map((p,h)=>p?e.jsxs("article",{children:[e.jsxs("div",{className:se.attribute,onClick:()=>g(p),children:[e.jsx("p",{className:`${p?.disabled===!1?se.active:se.inactive}`,children:p.name}),e.jsx("img",{className:se.img,src:ns,onClick:x=>u(p,x)})]}),c?.name==p?.name&&e.jsx("div",{className:se.details,children:c.values?.length>0?c.values.map((x,_)=>e.jsx("p",{className:`${se.value} ${x.disabled?se.disabled:""}`,children:x.name},_)):e.jsx("p",{className:se.empty_values,children:o("values_empty")})})]},h):e.jsx(e.Fragment,{})):e.jsx("p",{className:`${se.value} ${se.disabled}`,children:o("attributes_empty")}),r]})},lc="_attribute_fkh30_1",dc="_attribute_name_fkh30_25",uc="_value_name_fkh30_45",Ge={attribute:lc,attribute_name:dc,value_name:uc},mc=({allAttributes:s,prevAttributes:t,onAdd:n,t:a})=>{const[o,c]=l.useState();l.useEffect(()=>{if(s?.length>0){const r=t.map(u=>u.id),d=s.filter(u=>!r.includes(u.id));c(d)}else throw new Error},[]);const i=r=>{n(r)};return e.jsx("section",{children:o?.length>0?o.map((r,d)=>e.jsxs("div",{className:Ge.attribute,children:[e.jsxs("p",{className:Ge.attribute_name,onClick:()=>i(r),children:[r.name,":"]}),r.values.map((u,g)=>e.jsx("p",{className:Ge.value_name,children:u.name},g))]},d)):e.jsx("div",{className:Ge.attribute,children:e.jsx("p",{children:a("no_attributes_to_add")})})})};let hc=class extends Array{index=(t,n=!0)=>this.findIndex(a=>(n===!0&&a.disabled===!1||n===!1)&&a.id===t.id);has=(t,n=!0)=>this.index(t,n)!=-1;add=t=>(this.has(t,!1)||this.push(t),this.slice());remove=t=>{const n=this.index(t,!1);return n>=0&&this.splice(n,1),this.slice()};toArray=()=>super.slice()};const gc=fe,pc=()=>{const s=Z(),t=ve(),n=l.useRef(),[a,o]=l.useState(!0),[c,i]=l.useState(!1),[r,d]=l.useState(!1),[u,g]=l.useState(null),[m,p]=l.useState(!1),[h,x]=l.useState(null),[_,A]=l.useState(),[j,S]=l.useState(),[f,y]=l.useState(),{t:b}=be();l.useEffect(()=>{if(t.state&&t.state.categories&&t.state.slug&&t.state?.categories?.attributes?.length>0){const N=t.state.categories,D=N.attributes,G=t.state.slug,K=Te.find(N,G),U=Object.assign(new hc,K.attributes);A(K),S(U),y(D),o(!1)}else s("/admin/categories",{replace:!0})},[]);const C=N=>{i(!1),N?j?.has(N)?g(b("attribute_no_repeated")):S(j.add(N)):g(b("attribute_no_name_error"))},w=N=>{S(j.remove(N)),d(!0)},k=()=>{x(e.jsx(Q,{title:b("save_edition_title"),message:void 0,onReject:()=>x(null),onAccept:()=>{if(_){const N=n?.current?.checked??!1;x(null),_.attributes=j.toArray(),console.log("Saving:",_),F(o,g,Ma,_,N).then(D=>{console.log(f),x(e.jsx(me,{title:b("saved"),onAccept:()=>{window.scrollTo({top:0}),s("/admin/categories")},message:void 0,children:e.jsx(xc,{attributes:f,putted:D,appliedToChildren:N,t:b})}))}).catch(D=>{console.error(D),D?.status()===503&&p(!0)})}},children:e.jsx(gc,{ref:n,className:q.dialog,label:b("save_edition_message"),defaultChecked:!1,type:"checkbox"})}))},B=()=>{x(e.jsx(Q,{title:b("cancel_edition_title"),message:b("cancel_edition_message"),onReject:()=>x(null),onAccept:()=>{window.scrollTo({top:0}),s("/admin/categories")},children:void 0}))},z=()=>{g(null)};return _?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:q.header,children:[e.jsx("p",{className:q.title,children:b(_?"attributes":"attributes_global")}),e.jsx("p",{className:q.slug,children:_.slug.replaceAll("-"," ")})]}),u&&e.jsx("p",{className:"error",children:u}),e.jsxs("section",{className:q.instructions,children:[e.jsx("p",{className:q.instruction,children:b("attributes_instruction_1")}),e.jsx("p",{className:q.instruction,children:b("attributes_instruction_2")}),e.jsx("p",{className:q.instruction,children:b("attributes_instruction_3")}),e.jsx("p",{className:q.instruction,children:b("attributes_instruction_4")})]}),e.jsx("hr",{}),a==!0?e.jsx(O,{style:void 0,color:void 0,backgroundColor:void 0,className:void 0}):m?e.jsx($e,{}):e.jsxs(e.Fragment,{children:[c?e.jsx(mc,{prevAttributes:j,allAttributes:f,onAdd:C,t:b}):e.jsx(rc,{attributes:j,onSelect:z,onRemove:w,asked:r,t:b}),e.jsx("hr",{}),e.jsxs("div",{className:"flex-center-column",children:[c?e.jsx("button",{className:q.add,onClick:()=>i(!1),children:b("close")}):e.jsx("button",{className:q.add,onClick:()=>i(!0),children:b("add")}),e.jsx("button",{className:q.save,onClick:k,children:b("save")}),e.jsx("button",{className:q.cancel,onClick:B,children:b("cancel")})]})]})," ",h]}):e.jsx(O,{})},xc=({attributes:s,putted:t,appliedToChildren:n,t:a})=>{const o=c=>c?.length>0?e.jsxs("span",{className:q.something,children:[" ",s.filter(i=>c.includes(i.id)).map(i=>i.name).join(" - ")]}):e.jsx("span",{className:q.nothing,children:a("nothing")});return e.jsxs("div",{className:q.response,children:[e.jsxs("p",{children:[`${a("added")}:`," ",o(t.added)]}),e.jsxs("p",{children:[`${a("unedited")}:`," ",o(t.unedited)]}),e.jsxs("p",{children:[`${a("removed")}:`," ",o(t.removed)]}),n&&e.jsx("p",{children:a("applied-to-children")})]})},_c=e.jsxs(e.Fragment,{children:[e.jsx($,{index:!0,element:e.jsx(Lo,{})}),e.jsx($,{path:"attributes",element:e.jsx(pc,{})})]});function fc(){const{t:s,ready:t}=ce("/admin/categories","admin");return t?e.jsx(e.Fragment,{children:e.jsx(He,{context:{t:s}})}):e.jsx(je,{})}const jc="_user_suyd4_1",bc="_box_suyd4_15",vc="_input_suyd4_35",os={user:jc,box:bc,input:vc},Nc=()=>{T();const{t:s}=ce(),[t,n]=l.useState(),a=o=>{};return e.jsx(e.Fragment,{children:e.jsx("section",{className:os.user,children:e.jsxs("div",{className:os.box,children:[e.jsx(fe,{label:s("user"),className:os.input}),e.jsx("button",{onClick:a,children:s("search")})]})})})},Sc="_title_1mn0i_1",yc="_info_1mn0i_21",Ac="_error_1mn0i_35",wc="_messagebox_1mn0i_49",Cc="_box_title_1mn0i_75",kc="_box_content_1mn0i_87",Ec="_box_button_1mn0i_97",Ic="_error_container_1mn0i_129",Rc="_button_1mn0i_143",V={title:Sc,info:yc,error:Ac,messagebox:wc,box_title:Cc,box_content:kc,box_button:Ec,error_container:Ic,button:Rc},Pc="_login_section_1jxxc_1",Dc="_form_1jxxc_47",Uc="_message_1jxxc_85",Bc="_fieldset_1jxxc_101",zc="_input_1jxxc_113",Mc="_submit_1jxxc_125",Vc="_logo_1jxxc_145",Fc="_warning_1jxxc_161",Lc="_o_1jxxc_179",te={login_section:Pc,form:Dc,message:Uc,fieldset:Bc,input:zc,submit:Mc,logo:Vc,warning:Fc,o:Lc},Ns=({message:s,onSuccess:t=()=>{},onError:n=()=>{},maxTries:a=3})=>{const{t:o}=ie(),[c,i]=l.useState(!1),[r,d]=l.useState(!1),[u,g]=l.useState(0),[m,p]=l.useState(""),h=l.useRef(),x=l.useRef();Js();const{signIn:_}=T(),A=f=>{f.preventDefault(),d(!0);const y=h.current.value,b=x.current.value;S({username:y,password:b})},j=f=>{g(a+1),d(!0),S({google:f})},S=async f=>{try{const y=await _(f);console.log(y),p(""),d(!1),y.is_admin?t(y):n()}catch(y){console.error(y),p(y.toString()),u>=a&&n(y)}finally{g(y=>y+1),d(!1)}};return e.jsx("section",{className:te.login_section,children:e.jsxs("form",{id:"form",className:te.form,onSubmit:A,onClick:f=>f.stopPropagation(),children:[e.jsx("div",{className:te.logo,children:e.jsx("img",{className:te.logo,src:"/assets/logo.webp"})}),s&&e.jsx("p",{className:te.message,children:s}),e.jsxs("fieldset",{className:te.fieldset,children:[c===!0?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:o("user_name")}),e.jsx("input",{ref:h,className:te.input,id:"username"}),e.jsx("p",{children:o("password")}),e.jsx("input",{ref:x,className:te.input,type:"password",id:"password"}),r===!1?e.jsx("button",{id:"submit",className:te.submit,children:o("sign")}):e.jsx(O,{}),e.jsx("p",{className:te.o,children:o("or")})]}):e.jsx(Ys,{onClick:()=>i(!0),text:o("sign_in_with_password"),src:Ks,width:"100%"}),e.jsx(Ws,{onSuccess:j,onError:n,width:"100%"}),m?e.jsx("p",{className:te.warning,children:m}):null]})]})})},Tc=(s,t)=>s.map((n,a)=>e.jsxs("div",{className:V.messagebox,children:[n.name&&e.jsxs("div",{className:V.box,children:[e.jsx("p",{className:V.box_title,children:"Nombre"}),e.jsx("p",{className:V.box_content,children:n.name})]}),n.email&&e.jsxs("div",{className:V.box,children:[e.jsx("p",{className:V.box_title,children:"Email"}),e.jsx("p",{className:V.box_content,children:n.email})]}),n.phone&&e.jsxs("div",{className:V.box,children:[e.jsx("p",{className:V.box_title,children:"Telefono"}),e.jsx("p",{className:V.box_content,children:n.phone})]}),n.message&&e.jsxs("div",{className:V.box,children:[e.jsx("p",{className:V.box_title,children:"Mensaje"}),e.jsx("p",{className:V.box_content,children:n.message})]}),e.jsx("div",{className:V.box_button,onClick:()=>t(n.id),children:e.jsx("img",{src:ts})})]},a)),qc=()=>{const{t:s}=ce("admin"),[t,n]=l.useState(),[a,o]=l.useState([]),[c,i]=l.useState(),[r,d]=l.useState(),{isAdminSessionActive:u,setIsAdminSessionActive:g}=T(),m=h=>{d(void 0),jt(Number(h)).then(()=>{p()})},p=()=>{u===!0?(n(!0),xt().then(h=>{o(h),i(void 0),n(!1)}).catch(h=>{h.adminSessionExpired()&&g(!1),i(h.toString()),o(void 0),n(!1)})):(i(s("revalidate_session_required")),o(void 0))};return l.useEffect(()=>{p()},[u]),e.jsxs(e.Fragment,{children:[e.jsx("p",{className:V.title,children:s("messages")}),e.jsx("div",{className:"flex-center",children:!c&&e.jsx("p",{className:V.info,children:s("messages_subtitle")})}),t==!0?e.jsx(O,{}):a?a.length>0?e.jsx("div",{children:Tc(a,d)}):e.jsx("p",{className:V.info,children:s("no_messages")}):e.jsxs("div",{className:V.error_container,children:[e.jsx("p",{className:V.error,children:c}),e.jsx("button",{className:V.button,onClick:p,children:s("retry")})]}),r?e.jsx(Q,{title:s("question_delete"),message:s("message_is_not_recuperable"),onAccept:()=>m(r),onReject:()=>d(void 0)}):e.jsx(e.Fragment,{})]})},$c="_create_7djvd_55",Qc={create:$c},Oc="/products/product";async function Zc(s){const{data:t}=await E.get(Oc+"/"+s,{headers:{user:R(),lang:I}});return P(`products.select(${s})`,t),t}const Gc=5,Jc=2e3;async function re(s,...t){const n=async(a=1)=>{try{return await s(...t)}catch(o){if(a>=Gc)throw o;return await new Promise(c=>setTimeout(c,Jc)),n(a+1)}};return n()}const qe=async s=>new Promise(async(t,n)=>{try{const o=await re(Zc,s??0),{product:c,attributes:i,categories:r}=o;t({product:Object.freeze(c),attributes:Object.freeze(i),categories:Object.freeze(r)})}catch(a){n(v(a))}}),Yc="/products/all",Kc=async()=>{const{data:s}=await E.get(Yc,{headers:{user:R(),lang:I}});return P("products.selectAll()",s),s},Wc=async()=>new Promise(async(s,t)=>{try{const n=await Kc(),a=Xc(n.categorized);s({products:n,categories:a})}catch(n){t(v(n))}}),Xc=s=>{const t={};try{s.forEach(n=>{const o=n.slug.trim().split("/");let c=t;for(const i of o)c[i]||(c[i]={}),c=c[i]})}catch{}return t},Hc="/products/category",ei=async s=>{const t=Ne.set({slug:s??""}),{data:n}=await E.get(Hc+t,{headers:{user:R(),lang:I}});return P(`products.selectCategory(slug:'${s}')${t}`,n),n},si=async s=>new Promise(async(t,n)=>{try{const o=await ei((typeof s=="string"?s:"").toLowerCase().trim().replace(/\s+/g,"-"));t(o)}catch(a){n(v(a))}}),ti="/products/disable";async function ni(s){const{data:t}=await E.delete(ti+"/"+s,{headers:{user:R(),lang:I}});return P(`products.disable(${s})`,t),t}const ai=async s=>new Promise(async(t,n)=>{try{const a=await ni(s.id);t(a)}catch(a){n(v(a))}}),oi="/products/enable";async function ci(s){const{data:t}=await E.delete(oi+"/"+s,{headers:{user:R(),lang:I}});return P(`products.enable(${s})`,t),t}const zs=async s=>new Promise(async(t,n)=>{try{const a=await ci(s);t(a)}catch(a){n(v(a))}}),ii="/products";async function ri(s,t){try{delete s.id}catch{}P("PRODUCT POST:",s,`
slugs:`,t);const{data:n}=await E.post(ii,{product:s,slugs:t},{headers:{user:R(),lang:I}});return P("PRODUCT POST RESPONSE",n),n}const li=async(s,t)=>new Promise(async(n,a)=>{try{const o=await re(ri,s,t);n(o)}catch(o){a(v(o))}}),di="/products";async function ui(s,t){P("PRODUCT PUT",s,`
slugs:`,t);const{data:n}=await E.put(di,{product:s,slugs:t},{headers:{user:R(),lang:I}});return P("PRODUCT PUT RESPONSE",n),n}const mi=async(s,t)=>new Promise(async(n,a)=>{if(s?.id!=null)try{const o=await re(ui,s,t);n(o)}catch(o){a(v(o))}else a(v("Invalid product format (id undefined)"))}),hi="/products/delete";async function gi(s,t){const n=Ne.set({keepImages:t===!0}),{data:a}=await E.delete(hi+"/"+s+n,{headers:{user:R(),lang:I}});return P(`products.delete(${s})`,a),a}const pi=async(s,t)=>new Promise(async(n,a)=>{try{const o=await re(gi,s.id,t===!0);n(o)}catch(o){a(v(o))}}),xi="/variants";async function _i(s,t){try{delete t.id}catch{}P(`PRODUCT ${s} VARIANT POST:`,t);const{data:n}=await E.post(xi,{productId:s,variant:t},{headers:{user:R(),lang:I}});return P("PRODUCT POST RESPONSE",n),n}const fi=async(s,t)=>new Promise(async(n,a)=>{if(s>0&&(t.id==null||t.id==null))try{const o=await re(_i,s,t);n(o)}catch(o){a(v(o))}else a(v("Invalid product-variant format (already exists)"))}),ji="/variants";async function bi(s){P("PRODUCT VARIANT PUT",s);const{data:t}=await E.put(ji,{variant:s},{headers:{user:R(),lang:I}});return P("PRODUCT VARIANT PUT RESPONSE",t),t}const vi=async s=>new Promise(async(t,n)=>{if(s.id!=null)try{const a=await re(bi,s);t(a)}catch(a){n(v(a))}else n(v("Invalid product-variant format (id undefined)"))}),Ni="/variants";async function Si(s,t){const n=Ne.set({keepImages:t===!0}),{data:a}=await E.delete(Ni+"/"+s+n,{headers:{user:R(),lang:I}});return P(`product-variants.delete(${s})`,a),a}const yi=async(s,t)=>new Promise(async(n,a)=>{try{const o=await re(Si,s?.id,t===!0);n(o)}catch(o){a(v(o))}}),Ai="/variants/enable";async function wi(s){const{data:t}=await E.delete(Ai+"/"+s,{headers:{user:R(),lang:I}});return P(`product-variants.enable(${s})`,t),t}const Ms=async s=>new Promise(async(t,n)=>{try{const a=await wi(s);t(a)}catch(a){n(v(a))}}),Vs="/images/delete",Ci=async(s,t,n)=>typeof s=="string"?Ei(s,t,n):ki(s,t,n),ki=async(s,t,n)=>{const a=Ne.set({p:t,v:n}),{data:o}=await E.delete(Vs+`/${s}`+a,{headers:{user:R(),lang:I}});return o},Ei=async(s,t,n)=>{const a=Ne.set({p:t,v:n}),{data:o}=await E.put(Vs+a,{src:s},{headers:{user:R(),lang:I}});return o},Ii=async(s,t,n)=>new Promise(async(a,o)=>{if(H()===!0)try{console.log(`%cDeleting image of (${t}-${n})`,"color:yellow;",s);const c=await re(Ci,s.id?s.id:s.src,t,n);console.log("%cDeleting image response:","color:green;",c),a(c)}catch(c){o(v(c))}else o(v("Forbidden"))}),Ri="/images",Pi=async(s,t,n)=>{const a=Ne.set({p:t,v:n}),{data:o}=await E.post(Ri+a,s,{headers:{"Content-Type":"multipart/form-data",user:R(),lang:I}});return o},Di=async(s,t,n)=>new Promise(async(a,o)=>{if(H()===!0)try{if(!s.size||s.size&&Number(s.size)<Pe){if(s.formData)for(const i of s.formData.entries()){const r=i[1].type.split("/")[1];if(!es.includes(r)){o("Image format forbidden");return}}console.log(`%cPosting image to (${t}-${n})`,"color:yellow;",s);const c=await re(Pi,s.formData,t,n);console.log("%cPosted image:","color:green;",c),a(c)}else o(`${Pe/1e3} KB`)}catch(c){o(v(c))}else o(v("Forbidden"))}),Ui="/images/size",Bi=async()=>{const{data:s}=await E.get(Ui,{headers:{user:R(),lang:I}});return s},zi=async()=>new Promise(async(s,t)=>{try{const n=await re(Bi);s(n)}catch(n){t(v(n))}}),Fs=async(s,t,n)=>{const a=s.images?.slice();if(t&&t?.forEach(o=>{a.push(...o.images)}),!a)return{bytes:0,ok:!0,error:null};try{const{removedImages:o,addedImages:c,stayedImages:i}=Mi(a),r=[...i,...c];if(r.length>Es)return{bytes:0,ok:!1,error:5};let d=0;for(let g=0;g<r.length;g++){const m=r[g];if(m.size>Pe)return{bytes:m.size,ok:!1,error:4};if(d+=m.size,m.formData)try{for(const p of m.formData.entries()){const h=p[1].type.split("/")[1];if(!es.includes(h))return{bytes:0,ok:!1,error:2}}}catch{}}if(o.forEach(g=>{d-=g.size}),d>Is)return{bytes:d,ok:!1,error:3};const u=await zi();return console.log(`Images Size of Data Base: ${u} bytes / ${xs} bytes`),console.log(`Total Size of upload: ${d} bytes`),u+d>xs?{bytes:d,ok:!1,error:2}:{bytes:d,ok:!0,error:null}}catch(o){return console.error(o),{bytes:0,ok:!1,error:2}}},Mi=s=>{const t=s?s.filter(o=>cs.isRemoved(o)):[],n=s?s.filter(o=>cs.isAdded(o)):[],a=s?s.filter(o=>cs.isNotModified(o)):[];return{removedImages:t,addedImages:n,stayedImages:a}},cs={isRemoved(s){return s?.removed===!0&&!s?.file&&s?.id!=null},isAdded(s){return s?.file&&!s?.removed&&!s?.id},isNotModified(s){return!s?.file&&!s?.removed&&s?.id!=null}},Vi=async s=>{if(!s?.id)throw v("Invalid format");console.clear();const t=s.images??[];s.variants?.forEach(a=>t.push(...a.images));const n=await pi(s);return{imagesDeleted:t,productDeleted:n}},Fi=async(s,t,n,a=(o,c,i)=>{})=>{if(!s)throw v("Invalid format");console.log("Creating product:",s),a("initializing",null),s.images=s.images?.filter(d=>d?.file&&!d?.removed&&!d?.id),n?.forEach(d=>{d.images=d.images?.filter(u=>u?.file&&!u?.removed&&!u?.id)}),a("initializing",!0),a("images-size",null);const o=await Fs(s,n);if(o.ok!==!0)throw v(`${o.error}`);console.log("%cimagesVerified","color:green;",o),a("images-size",!0);const c=s.disabled!==!0;s.disabled=!0,console.clear(),a("product",null);const i=await li(s,t);console.log("%cProduct posted","color:lightgreen;",i),a("product",!0),console.log("%c|------[ UPLOADING PRODUCT IMAGES ]------|","color:brown;"),await as(i.id,void 0,s.images,[],a),console.log("%c|------[ PRODUCT IMAGES UPLOADED ]------|","color:brown;"),console.log("%c|------[ UPLOADING PRODUCT VARIANTS ]------|","color:brown;");for(let d=0;d<n?.length;d++)await Ls(i.id,n[d],a);console.log("%c|------[ PRODUCT VARIANTS UPLOADED ]------|","color:brown;"),c===!0&&await zs(i.id);const r=(await qe(i.id)).product;return console.log("Product posted with images:",r),r},Li=async(s,t,n,a=(o,c)=>{})=>{if(!s||!s.id)throw v("Invalid format");a("initializing",null);const o=(await qe(s.id)).product;a("initializing",!0),console.log("Stored product:",o),console.log("New product:",s),a("images-size",null);const c=await Fs(s,n);if(c.ok!==!0)throw v(`${c.error}`);console.log("%cimagesVerified","color:green;",c),a("images-size",!0);const i=s.disabled!==!0;s.disabled=!0,console.clear(),a("product",null);const r=await mi(s,t);console.log("%cProduct edited","color:lightgreen;",r),a("product",!0),console.log("%c|------[ UPDATING PRODUCT IMAGES ]------|","color:brown;"),await as(s.id,void 0,s.images,o.images,a),console.log("%c|------[ PRODUCT IMAGES UPDATED ]------|","color:brown;"),console.log("%c|------[ UPDATING PRODUCT VARIANTS ]------|","color:brown;"),await Ti(s.id,n,o.variants,a),console.log("%c|------[ PRODUCT VARIANTS UPDATED ]------|","color:brown;"),i===!0&&await zs(s.id);const d=(await qe(s.id)).product;return console.log("Product edited with images:",d),d},as=async(s,t,n,a,o)=>{a?.forEach(i=>{i.stored=!0});const c=[...n.filter(i=>i.removed!==!0),...a];for(;c.length>0;){const i=c.shift();if(!i?.id)o("product-image",null,i.id),await Di(i,s,t),o("product-image",!0,i.id);else if(i?.stored===!0)o("product-image",null,i.id),await Ii(i,s,t),o("product-image",!1,i.id);else{const r=c.findIndex(d=>d.id===i.id);if(r>=0)c.splice(r,1);else throw new Error("IndexError: image list index out of range")}}},Ti=async(s,t,n,a)=>{n?.forEach(c=>{c.stored=!0});const o=[...t,...n];for(console.log("%cProcessing Variants","color:brown",t),console.log("%cStored variants","color:brown",n);o.length>0;){const c=o.shift();if(console.log("%cProcessing Variant","color:lightblue",c),!c?.id)await Ls(s,c,a);else if(c?.stored===!0)a("product-variant",null,c.id),await yi(c),a("product-variant",!1,c.id);else{const i=o.findIndex(r=>r.id===c.id);if(i>=0){const r=o[i];await qi(s,c,r,a),o.splice(i,1)}else throw new Error("IndexError: variant list index out of range")}}},qi=async(s,t,n,a)=>{const o=t.disabled!==!0;t.disabled=!0,a("product-variant",null);const c=await vi(t);console.log("%cVariant posted","color:lightgreen;",c),a("product-variant",!0),await as(s,t.id,t.images,n.images,a),o===!0&&await Ms(c.id)},Ls=async(s,t,n)=>{const a=t.disabled!==!0;t.disabled=!0,n("product-variant",null);const o=await fi(s,t);console.log("%cVariant posted","color:lightgreen;",o),n("product-variant",!0),await as(s,o.id,t.images,[],n),a===!0&&await Ms(o.id)},$i="_title_1pf8b_1",Qi="_button_1pf8b_43",Oi="_empty_1pf8b_55",Zi="_products_1pf8b_69",Gi="_product_1pf8b_69",Ji="_disabled_1pf8b_99",Yi="_strike_1pf8b_143",Ki="_discount_1pf8b_155",ue={title:$i,button:Qi,empty:Oi,products:Zi,product:Gi,disabled:Ji,strike:Yi,discount:Ki},Wi=s=>{const{coinSymbol:t,dataLoaded:n}=ss(),{product:a,onSelect:o,t:c}=s,i=a.variants?.map(r=>r.price).reduce((r,d)=>r+d,0);return console.log(i),n&&a&&e.jsxs("article",{className:`${ue.product} ${a.disabled==!0?ue.disabled:""}`,id:`${a.id}`,onClick:()=>o(a),children:[e.jsxs("p",{children:[e.jsxs("span",{children:[c("name"),":"]})," ",a.name," "]}),e.jsxs("p",{children:[e.jsxs("span",{children:[c("description"),":"]})," ",a.description," "]}),e.jsx(Xi,{price:i,discount:a.discount,coinSymbol:t,t:c}),a.attributes&&e.jsxs("p",{children:[e.jsxs("span",{children:[c("attributes"),":"]})," ",a.attributes.map(r=>r.name).join(" - ")," "]})]})},Xi=({price:s,discount:t,coinSymbol:n,t:a})=>s?t==0?e.jsxs("p",{children:[e.jsxs("span",{children:[a("price"),":"]})," ",n," ",s," "]}):e.jsxs("p",{children:[e.jsxs("span",{children:[a("price"),":"]}),e.jsxs("span",{className:ue.strike,children:[n,s]}),e.jsxs("span",{className:ue.discount,children:["-",t,"%"]}),n,(s-s*t/100).toFixed(2)]}):e.jsx(e.Fragment,{}),Hi=({categories:s,category:t,onSelect:n,onCreate:a,onBack:o,t:c})=>{const[i,r]=l.useState(!0),[d,u]=l.useState(),[g,m]=l.useState(),p=Z(),h=()=>{const x=`/category/${t}`;p(x)};return l.useEffect(()=>{console.log(s),F(r,u,si,t).then(x=>{console.log(x),m(x)}).catch(x=>{console.error(x)})},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:ue.title,children:[e.jsx("div",{}),e.jsx("p",{children:t?t.replaceAll("/"," / ").replaceAll("-"," "):c("uncategorized")}),e.jsx("img",{onClick:h,src:ht})]}),e.jsx("section",{className:ue.products,children:i||g===void 0?e.jsx(O,{}):d?e.jsx("p",{className:"error",children:d}):g?.length>0?g.map((x,_)=>e.jsx(Wi,{product:x,onSelect:n,t:c},_)):e.jsx("p",{className:ue.empty,children:c("no_products_in_category")})}),!i&&!d&&e.jsx("div",{className:ue.button,children:e.jsx("button",{onClick:a,className:"button_square_white",children:c("create")})}),e.jsx("div",{className:ue.button,children:e.jsx("button",{onClick:o,className:"button_square_white",children:c("back")})})]})},er="_section_nzw85_1",sr="_instructions_nzw85_17",tr="_instruction_nzw85_17",nr="_spinner_nzw85_43",ar="_text_nzw85_65",or="_symbol_inactive_nzw85_73",cr="_symbol_active_nzw85_81",ir="_list_nzw85_91",rr="_list_active_nzw85_113",lr="_list_inactive_nzw85_125",dr="_list_item_nzw85_137",ur="_list_item_disabled_nzw85_153",mr="_list_item_enabled_nzw85_161",hr="_list_item_title_nzw85_169",gr="_back_nzw85_195",pr="_hr_nzw85_225",M={section:er,instructions:sr,instruction:tr,spinner:nr,text:ar,symbol_inactive:or,symbol_active:cr,list:ir,list_active:rr,list_inactive:lr,list_item:dr,list_item_disabled:ur,list_item_enabled:mr,list_item_title:hr,back:gr,hr:pr},xr=({categories:s,products:t,onSelect:n,t:a})=>{Z();const[o,c]=l.useState(null),i=r=>{c(!1),n(r)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:M.instructions,children:[e.jsx("p",{className:M.instruction,children:a("instruction_1")}),e.jsx("p",{className:M.instruction,children:a("instruction_2")}),e.jsx("p",{className:M.instruction,children:a("instruction_3")}),e.jsx("p",{className:M.instruction,children:a("instruction_4")})]}),e.jsx("hr",{}),e.jsxs("section",{className:M.section,children:[e.jsxs("div",{className:M.spinner,onClick:()=>c(r=>!r),children:[e.jsx("p",{className:M.text,children:a("select_category")}),e.jsx("p",{className:o?M.symbol_active:M.symbol_inactive,children:"❯"})]}),e.jsx(_r,{deployed:o,categories:s,products:t,onSelect:i,t:a})]})]})},_r=({deployed:s,products:t,categories:n,category:a,onSelect:o,t:c})=>{const[i,r]=l.useState("");l.useEffect(()=>{r("")},[s]);const d=u=>{if(u.length>0){const g=(m,p,h=[])=>{const x=h.slice();if(x.pop(),p?.length==0){if(Object.keys(m).length==0)return o(h.join("/"));const j=Object.keys(m).map((S,f)=>{const y=h.join("/")+"/"+S,b=t?.categorized?.find(w=>w.slug==y),C=b?.products.length;return console.log(y),e.jsxs(is,{onClick:()=>r(y),count:C,disabled:b?.disabled===!0,children:[S.replaceAll("-"," ")," "]},f)});return j.push(e.jsxs("p",{className:M.back,onClick:()=>{r(x.join("/").length>0?x.join("/"):"")},children:["❮",e.jsx("span",{children:c("back")})]},j.length+1)),j.unshift(e.jsx("hr",{className:M.hr},j.length+1)),j.unshift(e.jsx("p",{className:M.list_item_title,onClick:()=>{o(h.join("/"))},children:h.slice().pop()},j.length+1)),j}const _=p.shift();return h.push(_),g(m[_],p,h)};return g(n,u.split("/"))}else return[...Object.keys(n).map((g,m)=>{const p=t?.categorized?.find(x=>x.slug==g),h=p?.products.length;return e.jsx(is,{onClick:()=>r(g),count:h,disabled:p?.disabled===!0,children:g.replaceAll("-"," ")},m+1)}),e.jsx(is,{onClick:()=>o(null),count:t?.uncategorized?.length,children:c("uncategorized")},0)]};return s!=null&&e.jsx("div",{className:`${M.list} ${s?M.list_active:M.list_inactive}`,children:d(i)??e.jsx(O,{})})},is=({onClick:s,children:t,count:n,disabled:a})=>e.jsxs("div",{className:M.list_item,onClick:s,children:[e.jsxs("p",{className:a?M.list_item_disabled:M.list_item_enabled,children:[" ",t," "]}),n!=null&&e.jsx("p",{className:a||n===0?M.list_item_disabled:M.list_item_enabled,children:n})]}),fr=5,jr=()=>{const{t:s}=be(),[t,n]=l.useState(),[a,o]=l.useState(!0),[c,i]=l.useState(),[r,d]=l.useState(!1),[u,g]=l.useState([]),[m,p]=l.useState(),[h,x]=l.useState(void 0),_=l.useRef(!1),A=ve(),j=Z();l.useEffect(()=>{_.current||(_.current=!0,S())},[]);const S=(C=fr)=>{F(o,i,Wc).then(w=>{console.log(w),d(!1),g(w.categories),p(w.products);const k=Xs("slug");k&&w.products.categorized.find(B=>B.slug==k)!=null&&x(k)}).catch(w=>{w.adminSessionExpired()?setIsAdminSessionActive(!1):C>0?S(C-1):(console.error(w),w?.isNetworkError()&&d(!0))})},f=C=>{window.scrollTo({top:0}),j(`${C.id}`,{state:{from:A.pathname,product:C,slug:h}})},y=()=>{window.scrollTo({top:0}),j("new",{state:{from:A.pathname,slug:h}})},b=C=>{document.getElementById("header")?.scrollIntoView({behavior:"smooth"}),x(C)};return a?e.jsx(O,{}):c?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"error",children:c}),r===!0&&e.jsx($e,{onClick:S})]}):e.jsxs(e.Fragment,{children:[h===void 0?e.jsxs(e.Fragment,{children:[e.jsx(xr,{categories:u,products:m,onSelect:b,t:s}),e.jsx("div",{className:Qc.create,children:e.jsx("button",{onClick:y,className:"button_square_white",children:s("create")})})]}):e.jsx(Hi,{categories:u,category:h,onSelect:f,onCreate:y,onBack:()=>b(void 0),t:s}),t]})},br="_title_1j4od_1",vr="_subtitle_1j4od_21",ps={title:br,subtitle:vr},Ts=l.createContext();function qs({product:s,attributes:t,categories:n,slug:a,children:o}){return e.jsx(e.Fragment,{children:e.jsxs(Ts.Provider,{value:{attributes:t,categories:n,product:s,slug:a},children:[" ",o]})})}const Nr="_icon_g4veo_37",Sr="_close_g4veo_69",yr="_footer_g4veo_79",Ar="_input_g4veo_101",wr="_catalog_g4veo_127",Cr="_catalog_title_g4veo_135",J={icon:Nr,close:Sr,footer:yr,input:Ar,catalog:wr,catalog_title:Cr},$s=()=>{const{product:s,categories:t,attributes:n,slug:a}=l.useContext(Ts);return{product:s,categories:t,attributes:n,slug:a,parseData:(c,i,r,d,u,g,m,p)=>({product:{id:c,name:i,description:r,newest:d,disabled:u,images:g?[g]:[],price:p?.price()},variants:p?.toArray(),slugs:m})}},kr={getSelected(s,t){if(s){const n=s.map(a=>a.slug);return t&&!n.includes(t)&&n.push(t),n}else return t?[t]:[]}};class Xe extends Array{constructor(t=[]){super(...t)}toArray(){const t=[];for(let n=0;n<this.length;n++)t.push(this[n]);return t}index(){return this.length>0?this[0]:null}valid(){return this.length>0}rove(t){return this.toArray().map(t)}delete(t){const n=this.toArray(),a=n.findIndex(o=>t.id===null?o.createdAt===t.createdAt:o.id==t.id);return a>=0&&n.splice(a,1),new Xe(n)}put(t){const n=this.toArray(),a=n.findIndex(o=>t.id===null?o.createdAt===t.createdAt:o.id==t.id);return a>=0?n.splice(a,1,t):n.push(t),new Xe(n)}value(t="$"){const n=this.price();return isNaN(n)?null:`${t}${n}`}price(){let t=[];return this.forEach(n=>{t.push(n.price)}),t.length?Math.min(...t):null}stock(){let t=0;return this.forEach(n=>{t+=n.stock}),isNaN(t)?null:t}}const Er="_categories_152nl_1",Ir="_category_container_152nl_23",Rr="_category_152nl_23",Pr="_slug_152nl_61",Dr="_add_152nl_79",Ur="_searching_152nl_95",Br="_accept_152nl_127",pe={categories:Er,category_container:Ir,category:Rr,slug:Pr,add:Dr,searching:Ur,accept:Br},zr="_slug_1u805_1",Mr="_routes_1u805_13",Vr="_route_1u805_13",Fr="_symbol_1u805_45",Lr="_separator_1u805_115",Tr="_slash_1u805_125",ae={slug:zr,routes:Mr,route:Vr,symbol:Fr,separator:Lr,slash:Tr},qr=s=>s.split("/").pop().replace("-"," "),Ss=(s,t)=>{const n=o=>(o?.match(/\//g)||[]).length;return s.filter(o=>t?o.slug.startsWith(t)&&n(o.slug)==n(t)+1:!o.slug.includes("/")).map(o=>o.slug)},$r=({categories:s,onSlugChange:t,showChildren:n=!0})=>{const[a,o]=l.useState(),[c,i]=l.useState();l.useEffect(()=>{if(s){const{slug:d}=We();d?r(d):o(Ss(s))}},[s]);const r=d=>{i(d),o(Ss(s,d)),t&&t(d?d.toLowerCase():"",a)};return e.jsxs(e.Fragment,{children:[e.jsx(Qr,{slug:c,onParentClick:r,onSelfClick:()=>{}}),n&&e.jsx(Or,{slugs:a,onClick:r})]})},Qr=({slug:s,onParentClick:t=()=>{},onSelfClick:n=()=>{}})=>{const[a,o]=l.useState();return l.useEffect(()=>{if(s){const c=s.split("/"),i=c.map((d,u)=>c.slice(0,u+1).join("/")),r=c.map((d,u)=>e.jsxs("div",{className:"flex-center",children:[e.jsx("p",{className:ae.slash,children:"/"}),e.jsx("p",{className:ae.route,id:`${i[u]}-${u}/${c.length}`,onClick:c.length!==u+1?()=>t(i[u]):()=>n(i[u]),children:d.toLowerCase().replace("-"," ")})]},u));o(r)}else o()},[s]),e.jsxs("div",{className:`${ae.routes} ${ae.slug}`,children:[e.jsx("p",{className:ae.route,onClick:()=>t(),children:"index"}),a]})},Or=({slugs:s,onClick:t})=>{const[n,a]=l.useState(),o=c=>{t(c)};return l.useEffect(()=>{if(s){const c=s.map((i,r)=>e.jsxs("div",{className:"flex-center",children:[e.jsx("p",{className:`${ae.route}`,onClick:()=>o(i),children:qr(i).toLowerCase()}),r<s.length-1&&e.jsx("p",{className:ae.separator,children:"-"})]},r));a(c)}else a()},[s]),e.jsxs("div",{className:`${ae.routes} ${ae.slug}`,children:[e.jsx("p",{className:ae.symbol,children:">"}),n]})},Zr=({categories:s,slugs:t,onAdd:n,onRemove:a,t:o,editable:c=!0})=>{const[i,r]=l.useState(null),[d,u]=l.useState(null),[g,m]=l.useState(!0),p=x=>{const _=()=>(a(x),r(null),u(null),m(!1));g?r(e.jsx(Q,{title:o("editor_remove_category"),message:o("can_restore_later"),onReject:()=>r(null),onAccept:_,children:e.jsx(e.Fragment,{})})):_()},h=x=>{x&&n(x),r(null),u(null),m(!0)};return e.jsxs("section",{className:pe.categories,children:[!t||t.length==0?e.jsx("p",{children:o("no_categories_assigned")}):e.jsx("p",{style:{paddingBottom:".8em"},children:o("categories_assigned")}),e.jsx("div",{className:pe.category_container,children:t&&t.map((x,_)=>e.jsxs("div",{className:pe.category,children:[e.jsx("p",{className:pe.slug,children:x}),c&&e.jsx("img",{src:ns,onClick:()=>p(x)})]},_))}),d!==null&&e.jsxs("div",{className:pe.searching,children:[e.jsx("div",{className:pe.searching_slug,children:e.jsx($r,{categories:s,onSlugChange:x=>u(x)})}),e.jsx("div",{className:pe.accept,children:e.jsxs("div",{children:[e.jsx("img",{src:_e,onClick:()=>h(d)}),e.jsx("img",{src:oe,onClick:()=>u(null)})]})})]}),s?.length>0&&d===null&&c&&e.jsx("div",{className:pe.add,children:e.jsx("img",{src:Ue,onClick:()=>u("")})}),i]})},Gr="_variants_b0z5m_1",Jr="_options_b0z5m_21",Yr="_option_b0z5m_21",Kr="_option_noimage_b0z5m_97",Wr="_option_attributes_b0z5m_113",Xr="_icon_b0z5m_147",Ie={variants:Gr,options:Jr,option:Yr,option_noimage:Kr,option_attributes:Wr,icon:Xr},Hr="_variant_fizz0_1",el="_input_fizz0_21",sl="_save_fizz0_31",we={variant:Hr,input:el,save:sl},tl="_attributes_18bmq_1",nl="_attribute_18bmq_1",al="_attr_18bmq_1",ol="_attrs_18bmq_75",cl="_vals_18bmq_89",il="_add_18bmq_103",X={attributes:tl,attribute:nl,attr:al,attrs:ol,vals:cl,add:il},rl=({slugs:s,selectedAttributes:t,onAdd:n,onRemove:a,t:o,editable:c=!0})=>{const{attributes:i,categories:r}=$s(),[d,u]=l.useState(null),[g,m]=l.useState(!0),[p,h]=l.useState(null),[x,_]=l.useState([]),[A,j]=l.useState([]);l.useEffect(()=>{const f=Qs(i,r,s,t),y=ul(i,r,s,t);j(f),_(y),h(null)},[t,i,r,s]);const S=f=>{const y=()=>(a(f),u(null),h(null),m(!1));g?u(e.jsx(Q,{title:o("editor_remove_attribute"),message:f.name,onReject:()=>u(null),onAccept:y})):y()};return e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:o("attributes")}),e.jsxs("section",{className:X.attributes,children:[p?e.jsx(e.Fragment,{}):t?.length===0?e.jsx("p",{children:o("no_attributes_assigned")}):e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{paddingBottom:".8em"},children:o("attributes_assigned")}),t.map((f,y)=>e.jsxs("div",{className:X.attribute,children:[e.jsx("p",{className:X.attrs,children:f.attributeName}),e.jsx("p",{className:X.vals,children:f.valueName}),e.jsx("img",{src:ns,onClick:()=>S(f)})]},y))]}),p,!p&&c&&i?.length>0&&e.jsx("div",{className:X.add,children:e.jsx("img",{src:Ue,onClick:()=>h(e.jsx(ll,{slugAttributes:A,noSlugAttributes:x,onClick:f=>h(e.jsx(dl,{attribute:f,values:f.values,onClose:()=>h(null),onSelect:y=>{n(y),h(null),m(!0)},t:o})),onClose:()=>h(null),t:o}))})}),d]})]})},ll=({slugAttributes:s,noSlugAttributes:t,onClick:n,onClose:a,t:o})=>e.jsxs(e.Fragment,{children:[s?.length>0&&e.jsxs("div",{style:{paddingBottom:".8em"},children:[e.jsx("p",{style:{paddingBottom:".4em"},children:o("available_attributes")}),s.map((c,i)=>e.jsx("div",{className:X.attribute,children:e.jsx("p",{className:X.attr,onClick:()=>n(c),children:c.name})},i))]}),t?.length>0&&e.jsxs("div",{children:[e.jsx("p",{style:{paddingBottom:".4em"},children:o("available_extra_attributes")}),t.map((c,i)=>e.jsx("div",{className:X.attribute,children:e.jsx("p",{className:X.attr,onClick:()=>n(c),children:c.name})},i))]}),t?.length==0&&s?.length==0&&e.jsx("p",{children:o("no_attributes_available")}),e.jsx("div",{className:X.add,children:e.jsx("img",{src:oe,onClick:a})})]}),dl=({attribute:s,values:t,onSelect:n,onClose:a,t:o})=>{const c=i=>{const r={attributeId:s.id,attributeName:s.name,valueId:i.id,valueName:i.name};n(r)};return e.jsxs(e.Fragment,{children:[t?.length>0?e.jsxs("div",{style:{paddingBottom:".8em"},children:[e.jsx("p",{style:{paddingBottom:".4em"},children:o("available_attributes")}),t.map((i,r)=>e.jsx("div",{className:X.attribute,children:e.jsx("p",{className:X.attr,onClick:()=>c(i),children:i.name})},r))]}):e.jsx("p",{style:{paddingBottom:".4em"},children:o("no_attributes_available")}),e.jsx("div",{className:X.add,children:e.jsx("img",{src:oe,onClick:a})})]})},Qs=(s,t,n,a)=>{const o=new Set;return n.forEach(i=>{const r=t.find(d=>d.slug==i);r&&r.attributes.forEach(d=>o.add(d))}),[...o].filter(i=>!a.find(r=>r.attributeId==i)).map(i=>s.find(r=>r.id==i))},ul=(s,t,n,a)=>{const o=Qs(s,t,n,a);return s.filter(c=>!o.find(i=>i.id==c.id)&&!a.find(i=>i.attributeId==c.id))},ml="_images_6ls7o_1",hl="_dialog_6ls7o_17",gl="_button_6ls7o_25",pl="_remover_6ls7o_119",xl="_imagedetailedcontainer_6ls7o_139",_l="_imagesdetailed_6ls7o_165",fl="_imagedetailed_6ls7o_139",jl="_imagedetailedremoved_6ls7o_203",bl="_info_6ls7o_221",Y={images:ml,dialog:hl,button:gl,remover:pl,imagedetailedcontainer:xl,imagesdetailed:_l,imagedetailed:fl,imagedetailedremoved:jl,info:bl},vl=(s,t=0)=>{let n=t;try{s.forEach(a=>{a?.size&&(n+=a.size)})}catch(a){console.error(a)}finally{return n}},Ke={isValid(s){if(s.size>Pe)return 1;const t=s.name.split(".").pop()?.toLowerCase();return!t||!es.includes(t)||!s.type.startsWith("image/")?2:!0},areValid(s,t){return vl(s,t)>Is?3:(s.forEach(a=>{if(a?.size>Pe)return 4}),s.length>Es?5:!0)}},Nl="data:image/webp;base64,UklGRr4FAABXRUJQVlA4TLIFAAAvMUAMEBXRtf/ftO38r17lvoIZ65hxUuXa9wFi27ZqJwexbRvH56y5Dto7ztpzzjV32P5j/eMXcOfkssoYzhPYLJNKZerLOg9h26uK058qVqc9xq+BGMm2qqgf97IPlzzW3d2iwUlBo3YlSZKqCkqcJ7+CreDuINcWAIJubNu2U9u2bbvdkvqcjrbtqR3bL/Bs2+b2kuvAbdtIUqy95p7Zpn/g46Py6OSzXjHfI9mNKpI8Zvgs96lxYyDBPjsUbT5QyacD6OmCR2fFW8AjcBhbnPTZDwCo4H8Bg8Opor3PdwDA7px0UHEA2LMxldR6mCUzTw9G5zMojCravYqXZs0ks97tXyaAnTnj4p5lapLWS9v+V6v6N1MzU8DoPAbaqaHpVURjpU33J7U+HFDGgF04G6LiIPDAix3HL91WhZy/JZkxs5dQwb9CBlj1+YZotkwk62ul66zUYfiW3Hrat0wAu3DOis824K3AAQcGZf8vyUyZRSjn73r0tX+ePRPJ+goGDeo6L12Y1HoKshUHLLynaI3ZbV0YFFT230psYTl/CuitU0PjP4hmz0gyv4JBg4xUEejCQBPFHCC33rRu/XVbFgZplfUdyBwZRSjjdx49Y1TToPiK6G85Wz+fzpNa6/ozffMMmJddRIxBNf2BNRuN1vVvsvOd/tse/ZSekDkyiVDK7wK6M1dTr/iC6KxgqcblP974HNCDzUS+wUBCyrgDrBmNG5POd4xk/6zIXBkBiTy6VVN3MzB/BpL5EQzSGLAj+XrrxlWiBezDw2ZMJ9LMr6VkH8kb4DlLsn5WYinll8cXYIFckYyPyOIq0QEO430LlhEDiGDLynkUHM5rYI1o3DjZ5c7l5gZzZwAAC+aKZLxHhsk3WzeuHB3gcD62ZTkxgohituUI3gArRefGpMud/rsejQF70t8TmScCYKFYkrTnbJRuyvWGLJNzge1YQYwkotleBRQGWTE6kny18bOejNdIHnhAfjA8Q14GDudTuMybU3okH4Dlc0aeNZL+kohcaPisnAkU8XV8VjvIvCHlRXwAlosZSbnZMJL9u3SH4Vi5wlnmPCqO5CNwppzx9SBr9d/3pNytyZK5ABTzdUJWE6OJWGa3FPERWD5m5NufraberckSuWDoWutRWcQn4ApJvV972mRU+lMmS8Rc4MSsIcYQccxx5QzJfI9M7oxZxLf45EoKFC+Bb8JJZXF8+rxw+1LCl+2pioM68n2eA4/U/3scVinl87ZUuuvzDDhTki+3HHYUR2rJuyyef04Jn3ek3E2fp/Z/Z/prEvLvdEwNWYoHwaARc9BkvEUyTwYLx5KkPWWWj8vEDFDE+50oCqWazOe1gWlscbvTKCvi3YlhKu5rgz/OkfzR7hTYlyoeOnSLEn5/5tAtztmWfAt/Ka4DF7U5+pn0+KD/psfsSHNmBJTyewqap2NNwqEjHcTdiYg0qaZvrIVNdrbXb9dnbnFWhMRUNBPjicSN6ZZw6HpzscJEMROYsl61bv11nZXMpW9HKOXPNLSMIJKYC+lxpbWzdplX/pi6eQEswL7vDBTligD2KlOTtp46jt66LguW7l3G3+lZG5N5Y3qV88fSvbutC53GL5O1nvYuU7j7BiLPfDuSrcB+ZSKlPnQYv/2kzRAvoWE61o0gkvXz2ZA+DcYM0XVZ6jh8SWo9XAysxWViqmVAX70HF/Vos1A5/2dgAzHBkLmA3hdps1DXRaHefcoEUMi1xkwn6pgt2ZVLwPDz23a/tJmuXiKF2ZLg41g5L6n19FQgMY1oz/bakdNBUuvDzJm9hNGd2UhMNLQsfGmWzM4KLORqqMw7cRIAMLorm04mUjmk8ujbAMBN5h047tEGFPPdQebNGPgC4NG6FlecZJ6LSWtwbnEONWcBMdZB5t6ULMPe1Tg7DS0Jop7dikgmKoliIsLtfJ68/0siiY/rigE=",Sl="data:image/webp;base64,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",ys=(s,t,n=!1,a)=>s.filter(o=>o.removed==n||o.removed==null&&n==!1).map((o,c)=>e.jsxs("div",{className:Y.imagedetailedcontainer,children:[e.jsx("img",{src:o.src,className:`${Y.imagedetailed} ${n&&Y.imagedetailedremoved}`}),o.size&&e.jsx("p",{children:De.toString(o.size)}),e.jsx("img",{src:n?Sl:Nl,className:Y.remover,onClick:()=>t(o)})]},c)),yl=({images:s=[],onAdd:t,onRemove:n,onRestore:a,t:o})=>{const c=l.useRef(),[i,r]=l.useState(null),[d,u]=l.useState(!1),g=h=>{const x=h.target.files[0];if(!x)return;u(!1);const _=Ke.isValid(x);if(_!==!0)return r(e.jsx(me,{title:o("image_error"),message:o(`image_error_${_}`),onAccept:()=>r(null)}));const A=Ke.areValid(s.filter(f=>!f.removed),x.size);if(A!==!0)return r(e.jsx(me,{title:o("image_error"),message:o(`image_error_${A}`),onAccept:()=>r(null)}));const j=new FormData;j.append("image",x);const S={size:x.size,src:URL.createObjectURL(x),removed:!1,file:x,formData:j};console.log("%c-----[ IMAGE LOADED ]-----","color:brown;"),console.log(S);for(const[f,y]of j.entries())console.log(f,y);console.log("%c--------------------------","color:brown;"),t(S)},m=h=>{h?.removed&&r(e.jsx(Q,{title:o("editor_recove_image"),message:e.jsx("img",{className:Y.dialog,src:h.src}),onReject:()=>r(null),onAccept:()=>{if(r(null),Ke.areValid(s.filter(_=>!_.removed),h.size)!==!0)return r(e.jsx(me,{title:o("image_error"),message:o(`image_error_${isFileValid}`),onAccept:()=>r(null)}));h.removed=!1,a(h)}}))},p=h=>{h?.removed!=!0&&(u(!1),r(e.jsx(Q,{title:o("editor_remove_image"),message:e.jsx("img",{className:Y.dialog,src:h.src}),onReject:()=>r(null),onAccept:()=>{r(null),h.removed=!0,n(h)}})))};return e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:o("images")}),e.jsxs("div",{className:Y.images,children:[s?.length>0&&e.jsx("div",{id:"images",className:Y.imagesdetailed,children:ys(s,p,!1)}),e.jsxs("p",{className:Y.info,children:[" ",`${o("images")}: ${s?.filter(h=>!h.removed).length} / ${_s}`," "]}),e.jsxs("p",{className:Y.info,children:[" ",`${De.toString(s?.filter(h=>!h.removed).map(h=>h.size).reduce((h,x)=>h+(x??0),0))} / ${De.toString(Hs)}`," "]}),s?.filter(h=>!h.removed).length<_s&&e.jsxs("div",{id:"image-adder",className:"flex-center",children:[e.jsx("button",{className:Y.button,onClick:()=>c.current.click(),children:o("add_new_image")}),e.jsx("input",{ref:c,className:Y.input,type:"file",onChange:g,accept:"image/*",style:{display:"none"}})]}),d&&e.jsx("div",{id:"removed-images",className:Y.imagesdetailed,children:ys(s,m,!0)}),s.filter(h=>h?.removed).length>0&&e.jsx("div",{id:"image-recover",className:"flex-center",children:e.jsx("button",{className:Y.button,onClick:()=>u(h=>!h),children:o(d?"hide_removed_images":"show_removed_images")})}),i]})]})},rs=fe,Al=({variant:s,slugs:t,nameRef:n,onSave:a,onDelete:o,onCancel:c,t:i})=>{const{coinSymbol:r,dataLoaded:d}=ss(),[u,g]=l.useState(null),[m,p]=l.useState([]),[h,x]=l.useState(null),_=l.useRef(null),A=l.useRef(null),j=l.useRef(null),S=l.useRef(null),f=l.useRef(null);l.useLayoutEffect(()=>{g(s?.images??[]),p(s?.attributes??[])},[]);const y=()=>{x(null);const b=_?.current?.value?.length>0?_.current.value:n.current?.value;b.trim().length>0?Number(A?.current?.value)>0?a({id:s?.id??null,name:b.trim(),description:S?.current?.value.trim(),price:Number(A?.current?.value),stock:j?.current?.value.length>0?Number(j?.current?.value):null,disabled:!(!f.current||f.current.checked),images:u,attributes:m,createdAt:s?.createdAt??new Date().toISOString()}):x(i("editor_invalid_price")):x(i("editor_invalid_name"))};return d?e.jsxs("article",{className:we.variant,children:[e.jsx(rs,{ref:_,name:"fullname",className:we.input,label:i("fullname"),defaultValue:s?.name??n?.current?.value??""}),e.jsx(rs,{ref:A,name:"price",className:we.input,label:`${i("price")}`,extension:r,type:"number",min:0,defaultValue:s?.price}),e.jsx(rs,{ref:j,name:"stock",className:we.input,label:`${i("in_stock")}`,extension:i("units"),type:"number",min:0,defaultValue:s===null?1:s?.stock}),u&&e.jsx(yl,{images:u,onAdd:b=>{u.push(b),g(u.slice())},onRemove:b=>{g(C=>(b.removed=!0,C.slice()))},onRestore:b=>{g(C=>(b.removed=!1,C.slice()))},t:i}),e.jsx(rl,{selectedAttributes:m,slugs:t,onAdd:b=>{m.find(C=>C.attributeId==b.attributeId)||p(C=>(C.push(b),C.slice()))},onRemove:b=>{const C=m.findIndex(w=>w.attributeId==b.attributeId);C>=0&&p(w=>(w.splice(C,1),w.slice()))},t:i}),h&&e.jsx("p",{className:"error",children:h}),e.jsx("div",{className:we.save,onClick:()=>y(),children:e.jsx("button",{className:"button_square_white",children:i("save_variant")})}),o&&s!=null&&e.jsx("div",{className:we.save,onClick:()=>o(s),children:e.jsx("button",{className:"button_square_white",children:i("remove_variant")})}),c&&e.jsx("div",{className:we.save,onClick:c,children:e.jsx("button",{className:"button_square_white",children:i("cancel")})})]}):e.jsx(O,{})},wl=({variants:s,variant:t,nameRef:n,slugs:a,onHideVariant:o,onShowVariant:c,onSave:i,onDelete:r,t:d})=>{const{coinSymbol:u,dataLoaded:g}=ss(),m=_=>{o(),i(_)},p=_=>{o(),r(_)},h=_=>{c(_),setTimeout(()=>et("hr"),10)},x=()=>{o()};return g&&e.jsx("section",{className:Ie.variants,children:s&&e.jsx(e.Fragment,{children:t!==void 0?e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:d("variants_title")}),e.jsx(Al,{variant:t,nameRef:n,slugs:a,onSave:m,onDelete:s?.length>1?p:null,onCancel:s?.length>0?x:null,t:d})]}):e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:d("options_title")}),e.jsxs("div",{className:Ie.options,children:[s.rove((_,A)=>e.jsx(Cl,{variant:_,name:kl(s,_.name,n,A),onClick:h,currency:u,t:d},A)),e.jsxs("div",{className:Ie.icon,children:[" ",e.jsx("img",{src:Ue,onClick:()=>h(null)})," "]})]})]})})})},Cl=({variant:s,currency:t,name:n,onClick:a,t:o})=>{const c=s.images.filter(r=>!r.removed),i=c?.length>0?c[0].src:null;return e.jsxs("div",{className:Ie.option,onClick:()=>a(s),children:[e.jsx("p",{children:`${n}`}),e.jsx("div",{children:i?e.jsx("img",{src:i}):e.jsx("p",{className:Ie.option_noimage,children:o("no_image")})}),s.price&&e.jsxs("p",{children:[" ",`${t} ${s.price}`," "]}),s.stock&&e.jsx(e.Fragment,{children:s.stock>0?e.jsxs("p",{children:[" ",o("in_stock"),":",e.jsxs("span",{style:{color:"green"},children:[" ",s.stock," "]})," "]}):e.jsx("p",{style:{color:"brown"},children:o("no_stock")})}),s.attributes&&e.jsx("div",{className:Ie.option_attributes,children:s.attributes.map((r,d)=>e.jsxs("p",{children:[r.attributeName," ",e.jsxs("span",{children:["(",r.valueName,")"]})]},d))})]})},kl=(s,t,n,a)=>{const o=t??n?.current?.value,c=s.rove(i=>i.name).slice(0,a).filter(i=>i==o);return c.length>0?`${o} (${c.length})`:o},El="_button_1w1ff_1",Il="_input_1w1ff_23",Rl="_image_1w1ff_31",Pl="_description_1w1ff_93",Je={button:El,input:Il,image:Rl,description:Pl},Dl=({image:s,onSelect:t,onRemove:n,onError:a,t:o})=>{const c=l.useRef(),i=d=>{const u=d.target.files[0];if(!u)return;const g=Ke.isValid(u);if(g===1)return a(`${o("image_error_1")} (${De.toString(Pe)})`);if(g===2)return a(`${o("image_error_2")} (${es.join(", ")})`);if(g===!0){const m=new FormData;m.append("image",u);const p={size:u.size,src:URL.createObjectURL(u),removed:!1,file:u,formData:m};console.log("%c-----[ IMAGE LOADED ]-----","color:brown;"),console.log(p);for(const[h,x]of m.entries())console.log(h,x);console.log("%c--------------------------","color:brown;"),t(p)}},r=()=>{s?n(s):c?.current.click()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Je.image,children:e.jsxs("div",{onClick:r,className:Je.button,children:[s?e.jsx("img",{src:s.src}):e.jsx(e.Fragment,{children:o("add_image")}),e.jsx("input",{ref:c,className:Je.input,type:"file",onChange:i,accept:"image/*",style:{display:"none"}})]})}),s&&e.jsx("p",{className:Je.description,children:De.toString(s.size)})]})},Ye=fe,Os=({onSuccess:s,onCancel:t,onDelete:n,t:a})=>{const{product:o,categories:c,parseData:i,slug:r}=$s(),{coinSymbol:d,dataLoaded:u}=ss(),[g,m]=l.useState(null),[p,h]=l.useState(null),[x,_]=l.useState([]),[A,j]=l.useState(null),[S,f]=l.useState(null),[y,b]=l.useState(void 0);l.useEffect(()=>{console.log("%cPRODUCT LOADED","color:blue; background:pink; padding:4px; border:1px solid blue;",o);const U=new Xe(o?.variants??[]);console.log("Variants",U),_(kr.getSelected(o?.categories,r)),j(o?.images?o.images[0]:void 0),f(U),b(S?.length>0?void 0:null)},[o]);const C=l.useRef(null),w=l.useRef(null),k=l.useRef(null),B=l.useRef(null),z=(U,ee,Qe)=>{m(e.jsx(Q,{title:U,message:ee,onAccept:()=>{m(null),Qe()},onReject:()=>m(null),children:void 0}))},N=()=>{z(a("editor_cancel_title"),a("editor_cancel_message"),t)},D=U=>{f(ee=>ee.put(U))},G=()=>{if(C?.current?.value?.trim().length>0)if(S.valid())if(Number(S?.price())>0){const U=i(o?.id??null,C.current.value.trim(),w.current.value.trim(),k.current.checked,!(!B.current||B.current.checked),A,x,S);console.log("Data to save:",U),z(a("editor_save_title"),a("editor_save_message"),()=>s(U.product,U.slugs,U.variants))}else h(a("editor_invalid_price"));else h(a("editor_invalid_price"));else h(a("editor_invalid_name"))},K=()=>{z(a("editor_remove_title"),o?.disabled!==!0?a("editor_disable_message"):a("editor_delete_message"),()=>n(o))};return e.jsxs(e.Fragment,{children:[o?.disabled===!0&&e.jsx("p",{className:"warning",children:a("product_disabled")}),p&&e.jsx("p",{className:"error",children:p}),e.jsx(Zr,{categories:c,slugs:x,onAdd:U=>{x.includes(U)||_(ee=>(ee.push(U),ee.slice()))},onRemove:U=>{const ee=x.indexOf(U);ee>=0&&_(Qe=>(Qe.splice(ee,1),Qe.slice()))},t:a}),u&&S&&e.jsxs("section",{className:J.catalog,children:[e.jsx("h4",{className:J.catalog_title,children:a("catalog_title")}),e.jsx(Ye,{ref:C,name:"name",className:J.input,label:a("name"),defaultValue:o?.name}),e.jsx(Ye,{ref:w,name:"description",className:J.input,label:`${a("description")}`,defaultValue:o?.description}),e.jsx(Ye,{ref:k,className:J.input,label:`${a("is_new")}:`,type:"checkbox",defaultChecked:o===null?!0:o?.isRecent}),(o?.disabled||!o)&&e.jsx(Ye,{ref:B,className:J.input,label:`${a("is_available")}:`,type:"checkbox",defaultChecked:!o?.disabled}),S.valid()&&e.jsxs("p",{className:J.input,children:[`${a("in_stock")}: ${S.stock()??a("undefined")}`," ",e.jsx("span",{})]}),S.valid()&&e.jsxs("p",{className:J.input,children:[`${a("price")}: ${S.value(d)??a("undefined")}`," ",e.jsx("span",{})]}),e.jsx(Dl,{image:A,onSelect:U=>j(U),onError:U=>h(U),onRemove:()=>z(a("image"),a("editor_remove_image"),()=>j(null)),t:a})]}),e.jsx("hr",{id:"hr",style:{marginTop:"1.5em",marginBottom:"1.5em"}}),e.jsx(wl,{variants:S,variant:y,nameRef:C,slugs:x,onHideVariant:()=>b(void 0),onShowVariant:U=>b(U),onSave:D,onDelete:U=>f(ee=>ee.delete(U)),t:a}),e.jsx("hr",{style:{marginTop:"1.5em",marginBottom:"1.5em"}}),p&&e.jsx("p",{className:"error",children:p}),y===void 0?e.jsxs("section",{className:J.footer,children:[e.jsxs("div",{className:J.icon,children:[" ",e.jsx("img",{src:oe,onClick:N})," "]}),e.jsxs("div",{className:J.icon,children:[" ",o&&e.jsx("img",{src:ts,onClick:K})," "]}),e.jsxs("div",{className:J.icon,children:[" ",e.jsx("img",{src:_e,onClick:G})," "]})]}):e.jsxs("div",{className:`${J.icon} ${J.close}`,children:[" ",e.jsx("img",{src:oe,onClick:N})," "]}),p&&e.jsx(me,{onAccept:()=>h(void 0),title:a("error"),message:void 0,children:e.jsx("p",{className:"error",children:p})}),g]})},Ul=()=>{const{t:s}=be(),t=Z(),n=ve(),[a,o]=l.useState(),[c,i]=l.useState(),{setIsAdminSessionActive:r}=T(),[d,u]=l.useState(),[g,m]=l.useState(),[p,h]=l.useState(),[x,_]=l.useState(null),[A,j]=l.useState(!0),[S,f]=l.useState(),[y,b]=l.useState(!1),{id:C}=st();l.useEffect(()=>{F(j,f,qe,C).then(N=>{console.log("product:",N.product),h(N.product),m(N.attributes),u(N.categories),n.state&&(o(n.state.from),i(n.state.slug))}).catch(N=>{N.adminSessionExpired()?r(!1):(console.error(N),h(null))})},[]);const w=N=>{console.log("Result:",N),_(e.jsx(me,{title:"Changes saved",message:"To view them, you must reload the page",onAccept:()=>{t(a||-1,{replace:!0}),window.location.reload()}}))},k=()=>t(a||-1,{replace:!0}),B=(N,D,G)=>{b(!1),F(j,f,Li,N,D,G).then(K=>w(K)).catch(K=>{console.error(K),f(isNaN(Number(K.toString()))?K.toString():s(`image_error_${K.toString()}`)),document.getElementById("header")?.scrollIntoView({behavior:"smooth"}),K.adminSessionExpired()&&r(!1),K.isNetworkError()&&b(!0)})},z=N=>{b(!1);const D=N?.disabled!==!0?ai:Vi;F(j,f,D,N).then(G=>w(G)).catch(G=>{console.error(G),f(G.toString()),document.getElementById("header")?.scrollIntoView({behavior:"smooth"}),G.adminSessionExpired()&&r(!1),G.isNetworkError()&&b(!0)})};return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:ps.subtitle,children:s("editor")}),S&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"error",children:S}),y&&e.jsx(Reload,{onClick:reload})]}),p&&e.jsx(qs,{product:p,categories:d,attributes:g,slug:c,children:e.jsx(Os,{onSuccess:B,onCancel:k,onDelete:z,t:s})}),A?e.jsx(je,{}):p===null&&e.jsx("div",{className:"flex-center",children:e.jsx("button",{onClick:()=>t(-1),className:"button_square_white",children:s("back")})}),x]})},Bl=()=>{const{t:s}=be(),t=Z(),n=ve(),[a,o]=l.useState(),[c,i]=l.useState(),{setIsAdminSessionActive:r}=T(),[d,u]=l.useState(),[g,m]=l.useState(),[p,h]=l.useState(!1),[x,_]=l.useState(null),[A,j]=l.useState(!0),[S,f]=l.useState(),[y,b]=l.useState(!1);l.useEffect(()=>{F(j,f,qe).then(k=>{m(k.attributes),u(k.categories),n?.state&&(o(n.state.from),i(n.state.slug)),j(!1),h(!0)}).catch(k=>{k.adminSessionExpired()?r(!1):console.error(k)})},[]);const C=()=>t(a||-1,{replace:!0}),w=(k,B,z)=>{b(!1),F(j,f,Fi,k,B,z).then(N=>{console.log("Result:",N),_(e.jsx(me,{title:s("saved_successfull_title"),message:s("saved_successfull_message"),onAccept:()=>{t(a||-1,{replace:!0}),window.location.reload()}}))}).catch(N=>{console.error(N),f(isNaN(Number(N.toString()))?N.toString():s(`image_error_${N.toString()}`)),document.getElementById("header")?.scrollIntoView({behavior:"smooth"}),N.adminSessionExpired()&&r(!1),N.isNetworkError()&&b(!0)})};return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:ps.subtitle,children:"Crear"}),S&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"error",children:S}),y&&e.jsx($e,{onClick:Re})]}),p&&e.jsx(qs,{product:null,categories:d,attributes:g,slug:c,children:e.jsx(Os,{onSuccess:w,onCancel:C,t:s})}),x,A&&e.jsx(je,{})]})},zl=e.jsxs(e.Fragment,{children:[e.jsx($,{index:!0,element:e.jsx(jr,{})}),e.jsx($,{path:":id",element:e.jsx(Ul,{})}),e.jsx($,{path:"new",element:e.jsx(Bl,{})})]});function Ml(){const{t:s,ready:t}=ce("/admin/products","admin");return t?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:ps.title,children:s("title")}),e.jsx(He,{context:{t:s}})]}):e.jsx(je,{})}class Vl extends l.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary:",t,n)}render(){const{hasError:t}=this.state,{to:n="/error"}=this.props;return t?e.jsx(ms,{to:n,replace:!0}):this.props.children}}const Nd=()=>e.jsx(Vl,{to:"/admin/error",children:e.jsxs(tt,{children:[e.jsx($,{path:"/",element:e.jsx(Rs,{})}),e.jsx($,{path:"workers",element:e.jsx(Dt,{})}),e.jsxs($,{path:"categories",element:e.jsx(fc,{}),children:[" ",_c," "]}),e.jsxs($,{path:"attributes",element:e.jsx(ua,{}),children:[" ",da," "]}),e.jsx($,{path:"messages",element:e.jsx(qc,{})}),e.jsx($,{path:"users",element:e.jsx(Nc,{})}),e.jsxs($,{path:"products",element:e.jsx(Ml,{}),children:[" ",zl," "]}),e.jsx($,{path:"*",element:e.jsx(ms,{to:"/admin",replace:!0})})]})}),Fl="/assets/guillenh-C1y6H0pX.webp",Ll="_panelContent_e0n63_63",Tl="_reload_e0n63_97",ql="_revalidate_e0n63_127",$l="_footer_e0n63_147",Fe={panelContent:Ll,reload:Tl,revalidate:ql,footer:$l},Ql="_header_5wzzp_1",Ol="_fixedHeader_5wzzp_11",Zl="_logo_5wzzp_99",ls={header:Ql,fixedHeader:Ol,logo:Zl},Gl="_navDeployed_cnav1_1",Jl="_navMenu_cnav1_59",Yl="_headerRNSpanTop__active_cnav1_149",Kl="_headerRNSpanCenter__active_cnav1_157",Wl="_headerRNSpanBottom__active_cnav1_165",Xl="_headerRNSpanTop__inactive_cnav1_173",Hl="_headerRNSpanCenter__inactive_cnav1_181",ed="_headerRNSpanBottom__inactive_cnav1_189",xe={navDeployed:Gl,navMenu:Jl,headerRNSpanTop__active:Yl,headerRNSpanCenter__active:Kl,headerRNSpanBottom__active:Wl,headerRNSpanTop__inactive:Xl,headerRNSpanCenter__inactive:Hl,headerRNSpanBottom__inactive:ed},sd="_flags_1udoi_7",td="_flag_1udoi_7",nd="_flag_active_1udoi_69",Le={flags:sd,flag:td,flag_active:nd},ad="data:image/webp;base64,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",od="data:image/webp;base64,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",cd=({className:s})=>{const{language:t,setLanguage:n}=ce();return e.jsx("section",{className:`${s} ${Le.flags}`,children:e.jsxs("div",{children:[e.jsx("img",{id:"es",src:od,className:`${Le.flag} ${t==="es"&&Le.flag_active}`,onClick:a=>n(a.target.id)}),e.jsx("img",{id:"en",src:ad,className:`${Le.flag} ${t==="en"&&Le.flag_active}`,onClick:a=>n(a.target.id)})]})})},id="_theme_wpbah_1",As={theme:id},rd=({onHide:s,onShowSubmenu:t})=>{const{t:n,ready:a}=ce("admin"),{hasPermission:o}=T();return Z(),a&&e.jsxs("div",{className:"menu__background",onClick:s,children:[e.jsx("div",{className:"header__background"}),e.jsxs("div",{className:"menu menu-left",onClick:c=>c.stopPropagation(),children:[e.jsx("hr",{}),e.jsxs("ul",{className:"menu__ul",children:[o("categories","view")&&e.jsx("li",{children:e.jsx(Se,{to:"/admin/categories",onClick:s,children:n("categories")})}),o("attributes","view")&&e.jsx("li",{children:e.jsx(Se,{to:"/admin/attributes",onClick:s,children:n("attributes")})}),o("products","view")&&e.jsx("li",{children:e.jsx(Se,{to:"/admin/products",onClick:s,children:n("products")})})]}),e.jsx("hr",{}),o("messages","view")&&e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"menu__ul",children:e.jsx("li",{children:e.jsx(Se,{to:"/admin/messages",onClick:s,children:n("messages")})})}),e.jsx("hr",{})]}),e.jsxs("ul",{className:"menu__ul",children:[o("workers","view")&&e.jsx("li",{children:e.jsx(Se,{to:"/admin/workers",onClick:s,children:n("workers")})}),o("users","view")&&e.jsx("li",{children:e.jsx(Se,{to:"/admin/users",onClick:s,children:n("users")})})]}),e.jsx("hr",{}),e.jsx("ul",{className:"menu__ul",children:e.jsx("li",{children:e.jsx(Se,{to:"/",onClick:s,children:n("home")})})}),e.jsx("hr",{}),e.jsxs("ul",{className:"menu__useful menu__ul",children:[e.jsx(cd,{className:As.theme}),e.jsx(nt,{className:As.theme})]})]})]})},ld=({onShowMenu:s,onHide:t})=>{const[n,a]=l.useState(void 0),{t:o,ready:c}=ce("admin"),{hasPromos:i}=at(),r=()=>(a(!1),t()),d=m=>{const p=m.split("/");return p.pop(),u(p.join("/"))},u=m=>{s(e.jsx(rd,{onHide:r,onShowSubmenu:u,onBack:d,slug:m,hasPromos:i,t:o}))},g=()=>{a(n===void 0?!0:!n),n?r():u("")};return c&&e.jsxs("div",{className:xe.navDeployed,onClick:g,children:[e.jsxs("div",{className:xe.navMenu,children:[e.jsx("span",{className:n===void 0?"":n?xe.headerRNSpanTop__active:xe.headerRNSpanTop__inactive}),e.jsx("span",{className:n===void 0?"":n?xe.headerRNSpanCenter__active:xe.headerRNSpanCenter__inactive}),e.jsx("span",{className:n===void 0?"":n?xe.headerRNSpanBottom__active:xe.headerRNSpanBottom__inactive})]}),e.jsx("p",{children:o("menu")})]})},dd="_img_15h97_1",ud="_user_15h97_13",ws={img:dd,user:ud},md="_title_1r2n5_1",hd="_cross_1r2n5_31",gd="_back_1r2n5_145",ds={title:md,cross:hd,back:gd},Cs=({onHide:s,onShowSubmenu:t,onBack:n,onError:a,onAuth:o,t:c})=>{Z();const[i,r]=l.useState(null),{name:d,signOut:u}=T(),g=()=>{r(e.jsx(Q,{title:c("user:sign-out-dialog-title"),message:c("user:sign-out-dialog-message"),onReject:()=>r(null),onAccept:()=>{r(null),u(),o()}}))};return e.jsxs("div",{className:"menu__background",onClick:s,children:[e.jsx("div",{className:"header__background"}),e.jsxs("div",{className:"menu menu-right",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:ds.title,children:[e.jsx("p",{children:d??c("user:user")}),e.jsx(ot,{className:ds.cross,onClick:s})]}),e.jsx("hr",{}),e.jsx("p",{className:`button_square_white ${ds.back}`,onClick:g,children:c("user:sign-out")})]}),i]})},pd=({onShowMenu:s,onHide:t,t:n})=>{const[a,o]=l.useState(void 0),{theme:c}=l.useContext(ct),{isSignedIn:i,picture:r}=T(),d=()=>(o(!1),t()),u=()=>p(""),g=()=>{o(a===void 0?!0:!a),a?d():p()},m=h=>{p(h?Cs:fs)},p=(h=i?Cs:fs)=>{s(e.jsx(h,{onHide:d,onShowSubmenu:p,onBack:u,onAuth:m,t:n}))};return e.jsx("div",{className:ws.user,onClick:g,children:e.jsx("div",{className:ws.img,children:e.jsx("img",{src:r||(c=="dark"?it:rt)})})})},xd=()=>{const{t:s}=ie(),t=Z();T();const[n,a]=l.useState(null),o=r=>{a(r)},c=()=>{a(null)},i=()=>{console.clear(),t("/")};return e.jsx(e.Fragment,{children:e.jsxs("header",{className:ls.header,id:"header",children:[e.jsxs("div",{className:ls.fixedHeader,children:[e.jsx("div",{className:"flex-center",style:{justifyContent:"flex-start"},children:e.jsx(ld,{onHide:c,onShowMenu:o})}),e.jsx("div",{onClick:i,className:`${ls.logo} flex-center cursor`,children:e.jsx("img",{src:"/assets/logo.webp"})}),e.jsx("div",{className:"flex-center",style:{justifyContent:"flex-end"},children:e.jsx(pd,{onHide:c,onShowMenu:o,t:s})})]}),n]})})};function Sd(){const{pathname:s}=ve();Z();const{t}=ie(),[n,a]=l.useState(!1),{isSignedIn:o,isAdmin:c,signOut:i,isAdminSessionActive:r,verifyIsAdminSessionActive:d,setIsAdminSessionActive:u}=T();return l.useEffect(()=>{We().signout=="true"&&(i(),Re())},[]),l.useEffect(()=>{d()},[location.pathname]),o===!0&&c==!1&&lt===!0&&!We().force?e.jsx(ms,{to:"/",replace:!0}):e.jsxs(e.Fragment,{children:[e.jsx(xd,{}),e.jsx("main",{className:Fe.panelContent,children:o===!0&&c!=!1?e.jsxs(e.Fragment,{children:[s==="/admin"?e.jsx(Rs,{}):e.jsx(He,{}),(r!==!0||n===!0)&&e.jsx("div",{className:Fe.revalidate,onClick:()=>a(!1),children:e.jsx(Ns,{message:t("revalidate_session"),onSuccess:()=>{u(!0),a(!1)}})})]}):e.jsx(Ns,{onSuccess:Re})}),o===!0&&r===!0&&s==="/admin"&&e.jsx("aside",{className:Fe.reload,children:e.jsx("img",{src:Ds,className:`${Fe.reload} cursor`,onClick:()=>a(!0)})}),e.jsx("footer",{className:Fe.footer,children:e.jsxs("a",{target:"_BLANK",href:dt,children:[e.jsx("img",{src:Fl}),e.jsx("p",{children:ut})]})})]})}export{Sd as default,Nd as routes};
